<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Догађаји тастатуре &#8212; Textual Programming in Python</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'TxtProgInPython';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'TxtProgInPython';
  eBookConfig.runestone_version = '3.1.1';
  eBookConfig.imagesDir = '../_images/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Textual Programming in Python</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content">
  
  <div class="section" id="id1">
<h1>Догађаји тастатуре<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Од догађаја који настају употребом тастатуре најважнији је догађај спуштања тастера, па ћемо се њиме највише и бавити. Приликом спуштања тастера на тастатури, у објекту <em>dogadjaj</em> који представља догађај у нашим програмима, вредност <em>dogadjaj.type</em> ће бити <code class="docutils literal notranslate"><span class="pre">pg.KEYDOWN</span></code>.</p>
<p>Када констатујемо да је неки тастер на тастатури притиснут, скоро увек нас интересује који је то тастер. Ово можемо сазнати испитивањем вредности <code class="docutils literal notranslate"><span class="pre">dogadjaj.key</span></code>. У лекцији о очитавању стања тастатуре већ смо поменули да за сваки тастер постоји именована константа која одговара том тастеру. Подсетимо се имена ових константи за неке често провераване тастере (комплетан списак ових константи можете да видите <a class="reference external" href="https://www.pygame.org/docs/ref/key.html">овде</a> ):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>константа</p></th>
<th class="head"><p>тастер</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pg.K_LEFT</p></td>
<td><p>стрелица лево</p></td>
</tr>
<tr class="row-odd"><td><p>pg.K_RIGHT</p></td>
<td><p>стрелица десно</p></td>
</tr>
<tr class="row-even"><td><p>pg.K_UP</p></td>
<td><p>стрелица горе</p></td>
</tr>
<tr class="row-odd"><td><p>pg.K_DOWN</p></td>
<td><p>стрелица доле</p></td>
</tr>
<tr class="row-even"><td><p>pg.K_SPACE</p></td>
<td><p>размак</p></td>
</tr>
<tr class="row-odd"><td><p>pg.K_a</p></td>
<td><p>тастер <em>a</em></p></td>
</tr>
<tr class="row-even"><td><p>pg.K_b</p></td>
<td><p>тастер <em>b</em></p></td>
</tr>
<tr class="row-odd"><td><p>pg.K_c</p></td>
<td><p>тастер <em>c</em></p></td>
</tr>
</tbody>
</table>
<p>Вредност поља <em>dogadjaj.key</em> говори о ком се физичком тастеру ради и та вредност је погодна за тастере попут стрелица, <em>Ctrl</em>, <em>Shift</em>, <em>Alt</em>, <em>Home</em>, <em>End</em> и сличних. Када се ради о тексту, може да буде згодније да користимо вредност поља <code class="docutils literal notranslate"><span class="pre">dogadjaj.unicode</span></code>, која садржи управо откуцани знак (као стринг од једног карактера).</p>
<p>Следећи пример илуструје како може да се испитује притисак на тастер, односно догађај типа <em>pg.KEYDOWN</em>.</p>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Пример - укрштеница</strong></p>
<p>У овом примеру корисник може помоћу стрелица на тастатури да премешта оквир и да уноси слова у квадратиће.</p>

    </p></div></div>
<p>Обратите пажњу на функцију  <em>obradi_dogadjaj</em> у којој се дешава провера типа догађаја, а затим, ако се ради о притиску на тастер, проверавају се додатне информације о догађају, записане у пољима <em>dogadjaj.key</em> и <em>dogadjaj.unicode</em>.</p>
<p>Успут можете да покушате да саставите неке занимљиве укрштене речи.</p>

<div data-childcomponent="PyGame__interact_crossword_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_crossword_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="# -*- acsection: general-init -*-
import pygame as pg, petljapg
br_redova, br_kolona = 5, 5
a = 50 # velicina polja
(sirina, visina) = (a* br_kolona, a * br_redova)
prozor = petljapg.open_window(sirina, visina, &quot;Укрштене речи&quot;)

font = pg.font.SysFont(&quot;Arial&quot;, 30) # font kojim će biti prikazan tekst
tabla = []
for red in range(br_redova):
    tabla.append([&apos; &apos;] * br_kolona)
    
(okvir_red, okvir_kol) = (0, 0)

# -*- acsection: main -*-
def obradi_dogadjaj(dogadjaj):
    global okvir_red, okvir_kol
    if dogadjaj.type == pg.KEYDOWN:
        if dogadjaj.key == pg.K_LEFT:
            if okvir_kol &gt; 0:
                okvir_kol -= 1
        elif dogadjaj.key == pg.K_RIGHT:
            if okvir_kol &lt; br_kolona-1:
                okvir_kol += 1
        elif dogadjaj.key == pg.K_UP:
            if okvir_red &gt; 0:
                okvir_red -= 1
        elif dogadjaj.key == pg.K_DOWN:
            if okvir_red &lt; br_redova-1:
                okvir_red += 1
        else:
            slovo = dogadjaj.unicode.upper()
            if slovo in &apos; АБВГДЂЕЖЗИЈКЛЉМНЊОПРСТЋУФХЦЧЏШ&apos;:
                tabla[okvir_red][okvir_kol] = slovo
# -*- acsection: after-main -*-

def prikazi_slovo(tekst, red, kol):
    if tekst == &apos; &apos;:
        d = 6
        kvadrat = (a*kol + d, a*red + d, a - 2*d, a - 2*d)
        pg.draw.rect(prozor, pg.Color(&quot;black&quot;), kvadrat)
    else:
        slika_teksta = font.render(tekst, True, pg.Color(&quot;black&quot;))
        x = a * kol + (a - slika_teksta.get_width()) // 2
        y = a * red + (a - slika_teksta.get_height()) // 2
        prozor.blit(slika_teksta, (x, y))

def nov_frejm():
    prozor.fill(pg.Color(&quot;white&quot;))   # bojimo prozor u belo
    for x in range(0, sirina+1, a): # uspravne linije
        pg.draw.line(prozor, pg.Color(&quot;black&quot;), (x, 0), (x, visina), 2)
    for y in range(0, visina+1, a): # vodoravne linije
        pg.draw.line(prozor, pg.Color(&quot;black&quot;), (0, y), (sirina, y), 2)

    pg.draw.rect(prozor, pg.Color(&quot;blue&quot;), (a*okvir_kol, a*okvir_red, a, a), 4) # okvir

    for red in range(br_redova): # slova
        for kol in range(br_kolona):
            prikazi_slovo(tabla[red][kol], red, kol)
            
petljapg.frame_loop(30, nov_frejm, obradi_dogadjaj)
"   data-enablecopy="true">


</textarea>
</div>
<p>Упоредимо овај програм са програмом “Навигација” из лекције о очитавању стања тастатуре:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 49%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>У програму “Навигација”</p></th>
<th class="head"><p>У програму “Укрштеница”</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>жути круг се кретао за по један пиксел - клизио је</p></td>
<td><p>оквир се креће за по једно поље - скаче</p></td>
</tr>
<tr class="row-odd"><td><p>нисмо имали прецизну контролу где ће се круг зауставити</p></td>
<td><p>прецизно контролишемо где ће се оквир зауставити</p></td>
</tr>
<tr class="row-even"><td><p>није нам ни било важно где ће се тачно круг зауставити</p></td>
<td><p>важно нам је где ће се тачно оквир зауставити</p></td>
</tr>
<tr class="row-odd"><td><p>очитавали смо стање тастера на тастатури (доле или горе)</p></td>
<td><p>користимо догађај (спуштање тастера)</p></td>
</tr>
</tbody>
</table>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Задатак - навигација по пољима</strong></p>
<p>Напишите програм који ради као у примеру (дугме “Прикажи пример”).</p>
<p>Корисник помоћу стрелица на тастатури може да води лика представљеног жутим кругом. Лик се креће по пољима на којима се налазе беле тачке.</p>

    </p></div></div>

<div data-childcomponent="PyGame__interact_pacman1_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_pacman1_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, petljapg
br_redova, br_kolona = 10, 10
a = 50 # velicina polja
(sirina, visina) = (a* br_kolona, a * br_redova)
prozor = petljapg.open_window(sirina, visina, &quot;Пакмен&quot;)

(lik_red, lik_kol) = (br_redova // 2, br_kolona // 2)

def nov_frejm():
    prozor.fill(pg.Color(&quot;black&quot;))   # bojimo prozor u crno

    # bele kuglice
    for x in range(a // 2, sirina, a):
        for y in range(a // 2, visina, a):
            pg.draw.circle(prozor, pg.Color(&quot;white&quot;), (x, y), 3)
   
    # crtamo &apos;lika&apos;
    (x, y) = (lik_kol * a + a//2, lik_red * a + a//2)
    pg.draw.circle(prozor, pg.Color(&apos;yellow&apos;), (x, y), a // 3)
    
def obradi_dogadjaj(dogadjaj):
    global lik_red, lik_kol
    if dogadjaj.type == pg.KEYDOWN:
        if dogadjaj.key == pg.K_LEFT and (lik_kol &gt; 0):
            lik_kol -= 1
        if dogadjaj.key == pg.K_RIGHT and (lik_kol &lt; br_kolona-1):
            lik_kol += 1
        if dogadjaj.key == pg.K_UP and (lik_red &gt; 0):
            lik_red -= 1
        if dogadjaj.key == pg.K_DOWN and (lik_red &lt; br_redova-1):  
            lik_red += 1

petljapg.frame_loop(30, nov_frejm, obradi_dogadjaj)

"  data-enablecopy="true">
import pygame as pg, petljapg
br_redova, br_kolona = 10, 10
a = 50 # velicina polja
(sirina, visina) = (a* br_kolona, a * br_redova)
prozor = petljapg.open_window(sirina, visina, "Пакмен")

(lik_red, lik_kol) = (br_redova // 2, br_kolona // 2)

def nov_frejm():
    prozor.fill(pg.Color("black"))   # bojimo prozor u crno

    # bele kuglice
    for x in range(a // 2, sirina, a):
        for y in range(a // 2, visina, a):
            pg.draw.circle(prozor, pg.Color("white"), (x, y), 3)

    # OVDE DODAJTE NAREDBE ZA CRTANJE ZUTOG KRUGA

def obradi_dogadjaj(dogadjaj):
    global lik_red, lik_kol
    # OVDE DODAJTE NAREDBE ZA OBRADU DOGADJAJA

petljapg.frame_loop(30, nov_frejm, obradi_dogadjaj)
</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Задатак - прављење лавиринта</strong></p>
<p>Напишите програм који прави лавитинт. Црвени оквир треба да се помера помоћу стрелица, а притиском на размак да се мења боја поља (из црне у белу и обрнуто).</p>

    </p></div></div>
<p>Када решите задатак, испробајте следеће:</p>
<ul class="simple">
<li><p>кликните на дугме “Прикажи пример” (овај пут програм из примера ради више од онога што је био ваш задатак)</p></li>
<li><p>направите лавиринт какав желите</p></li>
<li><p>притисните (латинично) <em>S</em> за старт и посматрајте</p></li>
<li><p>притисните (латинично) <em>P</em> за паузу, тј. заустављање или наставак трагања</p></li>
</ul>

<div data-childcomponent="PyGame__interact_labyrinth_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_labyrinth_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, petljapg, random
a = 50 # velicina polja
br_redova = 12
br_kolona = 20
(sirina, visina) = (br_kolona * a, br_redova * a)
prozor = petljapg.open_window(sirina, visina, &quot;Лавиринт&quot;)

def crtaj():
    # cela tabla - prazna polja
    prozor.fill(pg.Color(&apos;white&apos;))
    for red in range(br_redova):
        for kol in range(br_kolona):
            if tabla[red][kol] == -1: # zid
                pg.draw.rect(prozor, pg.Color(&apos;black&apos;), (kol * a, red * a, a, a))
            elif tabla[red][kol] == 1: # tekuca putanja
                pg.draw.circle(prozor, pg.Color(&apos;gray&apos;), (kol * a + a//2, red * a + a//2), 10)
            elif tabla[red][kol] == 2: # bili i vratili se
                pg.draw.circle(prozor, pg.Color(&apos;black&apos;), (kol * a + a//2, red * a + a//2), 10)
    
    if not traganje:
        pg.draw.rect(prozor, pg.Color(&apos;red&apos;), (okvir_kol * a, okvir_red * a, a, a), 3)
    

def nov_frejm():
    if traganje and not pauza:
        next(pozicije, 0)
    crtaj()
        
def obradi_dogadjaj(dogadjaj):
    global pauza, nasao, traganje, pozicije, tabla, okvir_red, okvir_kol
    if dogadjaj.type == pg.KEYDOWN: # pritisnut je taster
        if dogadjaj.key == pg.K_LEFT:
            if okvir_kol &gt; 0:
                okvir_kol -= 1
        elif dogadjaj.key == pg.K_RIGHT:
            if okvir_kol &lt; br_kolona-1:
                okvir_kol += 1
        elif dogadjaj.key == pg.K_UP:
            if okvir_red &gt; 0:
                okvir_red -= 1
        elif dogadjaj.key == pg.K_DOWN:
            if okvir_red &lt; br_redova-1:
                okvir_red += 1
        elif dogadjaj.key == pg.K_SPACE:
            if (tabla[okvir_red][okvir_kol] == 0) :
                tabla[okvir_red][okvir_kol] = -1
            else: 
                tabla[okvir_red][okvir_kol] = 0

        if chr(dogadjaj.key) == &apos;s&apos;: # (re)start
            for red in range(br_redova):
                for kol in range(br_kolona):
                    if tabla[red][kol] &gt; 0:
                        tabla[red][kol] = 0
            traganje = True
            nasao = False
            pozicije = trazi(poc[0], poc[1]) # generator
        if chr(dogadjaj.key) == &apos;p&apos;: # pauza
            if traganje:
                pauza = not pauza

def trazi(x, y):
    global nasao
    if nasao: return
    if (x &lt; 0 or y &lt; 0 or x &gt;= br_kolona or y &gt;= br_redova): return
    if (tabla[y][x] != 0): return

    tabla[y][x] = 1
    yield
    if (x, y) == cilj:
        nasao = True
        return

    yield from trazi(x + 1, y)
    yield from trazi(x - 1, y)
    yield from trazi(x, y + 1)
    yield from trazi(x, y - 1)

    if not nasao:
        tabla[y][x] = 2
        yield

FPS = 5
pauza = False
poc, cilj = (0,0), (br_kolona-1, br_redova-1)
tabla = [[random.randint(-1, 0) for i in range(br_kolona)]  for j in range(br_redova)]
(okvir_red, okvir_kol) = (0, 0)
traganje = False
nasao = False

petljapg.frame_loop(FPS, nov_frejm, obradi_dogadjaj)
"  data-enablecopy="true">
import pygame as pg, petljapg, random
a = 50 # velicina polja
br_redova = 12
br_kolona = 20
(sirina, visina) = (br_kolona * a, br_redova * a)
prozor = petljapg.open_window(sirina, visina, "Лавиринт")

def nov_frejm():
    prozor.fill(pg.Color('white')) # bela pozadina
    for red in range(br_redova):
        for kol in range(br_kolona):
            if tabla[red][kol] == 1: # zid
                pg.draw.rect(prozor, pg.Color('black'), (kol * a, red * a, a, a))

    # okvir
    pg.draw.rect(prozor, pg.Color('red'), (okvir_kol * a, okvir_red * a, a, a), 3)

def obradi_dogadjaj(dogadjaj):
    global tabla, okvir_red, okvir_kol

    # OVDE DODAJTE NAREDBE ZA OBRADU PRITISAKA NA RAZMAK I STRELICE

tabla = []
for j in range(br_redova):
    tabla.append([])
    for i in range(br_kolona):
        tabla[-1].append(random.randint(0, 1))

(okvir_red, okvir_kol) = (0, 0)
petljapg.frame_loop(10, nov_frejm, obradi_dogadjaj)
</textarea>
</div>
<div class="section" id="id2">
<h2>Бонус - програм за вежбање куцања<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Програм који следи, служи за вежбање куцања. Програм јесте дугачак, али требало би да можете да разумете његов велики део.</p>
<p>Можда ћете желети (без обавезе) да прилагодите програм својим потребама, нарочито у почетку коришћења. На пример:</p>
<ul class="simple">
<li><p>да успорите (или касније да убрзате) падање слова</p></li>
<li><p>да не губите поене кад погрешите</p></li>
<li><p>када добро увежбате слова која прва падају, да их избаците из листе слова за вежбу</p></li>
<li><p>да знаци који падају буду само цифре и знаци операција (ако желите да вежбате куцање само на нумеричкој тастатури десно)</p></li>
<li><p>да притисак на размак брише најниже слово (уз неко смањивање поена)</p></li>
</ul>
<p>или било шта друго чега се сетите.</p>
<p>Када будете имали времена, свакако покушајте и да направите што бољи резултат (без варања).</p>

<div data-childcomponent="PyGame__interact_typing_tutor_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_typing_tutor_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, petljapg, random
(sirina, visina) = (600, 400)
prozor = petljapg.open_window(sirina, visina, &quot;Куцање - пуцање&quot;)

def ispisi(poruka, x, y):
    font = pg.font.SysFont(&quot;Arial&quot;, 32)        # font kojim će biti prikazan tekst
    sl = font.render(poruka, True, pg.Color(&quot;green&quot;)) # gradimo sličicu sa tekstom
    prozor.blit(sl, (x, y)) # prikazujemo sličicu na odgovarajućem mestu na ekranu

def crtanje():
    prozor.fill(pg.Color(&quot;black&quot;))    # bojimo prozor u crno
    if not igra_zavrsena:
        # ako igra jos traje, ispisi slova koja padaju i broj poena
        for slovo, x, y in slova_koja_padaju:
            ispisi(slovo, x, y)
        ispisi(&apos;poeni: &apos; + str(poeni), 0, visina - 40)
    else:
        # u protivnom ispisi poruku za kraj
        ispisi(&apos;Kraj igre&apos;, 100, 100)
        ispisi(&apos;Osvojili ste &apos; + str(poeni) + &apos; poena&apos;, 100, 200)

def nov_frejm():
    global slova_koja_padaju, vreme_do_slova, sledece_x
    global prvo_slovo_za_biranje, slova_od_kojih_se_bira, igra_zavrsena
    # pomeri sva padajuca slova dva piksela nize, proveri da li se jos igra
    nova_slova = []
    for slovo, x, y in slova_koja_padaju:
        if y &lt; visina - 40: 
            nova_slova.append((slovo, x, y + 2))
        else:
            # ako je neko slovo stglo do dna prozora, to je kraj igre
            igra_zavrsena = True 
            
    # azuriraj spisak slova koja padaju
    vreme_do_slova -= 1
    if vreme_do_slova &lt;= 0: # ako treba dodati jos jedno slovo koje pada...
        vreme_do_slova = 20
        sledece_x += 20
        if sledece_x &gt;= sirina:
            # red na prozoru je popunjen, azuriraj slova koja igraju
            sledece_x -= sirina
            if prvo_slovo_za_biranje + BROJ_SLOVA_ZA_BIRANJE &lt; len(slova):
                prvo_slovo_za_biranje += 1
                slova_od_kojih_se_bira = slova[prvo_slovo_za_biranje : prvo_slovo_za_biranje + BROJ_SLOVA_ZA_BIRANJE]
        # dodaj jos jedno slovo koje pada
        slovo = random.choice(slova_od_kojih_se_bira)
        nova_slova.append((slovo, sledece_x, 0))

    slova_koja_padaju = nova_slova
    crtanje()
    
def obradi_dogadjaj(dogadjaj):
    global slova_koja_padaju, poeni
    if dogadjaj.type == pg.KEYDOWN: # pritisak tastera na tastaturi
        otkucano_slovo = dogadjaj.unicode.upper()
        if len(slova_koja_padaju) &gt; 0: # ako ima slova koja padaju
            slovo, x, y = slova_koja_padaju[0] # najnize slovo koje pada
            if otkucano_slovo == slovo:
                del slova_koja_padaju[0]
                poeni += 10 # nagrada za otkucano najnize slovo 
            else:
                poeni -= 4  # kazna za pogresno slovo
            
# slova = &apos;АСДФЈКЛЧЕИРУТЗГХЊОЉПЦ,ВМБНЏЅ.-&apos;
slova = &apos;ASDFJKL;EIRUTYGHWOQPC,VMBNXZ.-&apos;
BROJ_SLOVA_ZA_BIRANJE = 4
prvo_slovo_za_biranje = 0
slova_od_kojih_se_bira = slova[prvo_slovo_za_biranje : prvo_slovo_za_biranje + BROJ_SLOVA_ZA_BIRANJE]
slova_koja_padaju = []
vreme_do_slova = 0
sledece_x = 0
poeni = 0
igra_zavrsena = False

petljapg.frame_loop(30, nov_frejm, obradi_dogadjaj)
"   data-enablecopy="true">


</textarea>
</div>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>