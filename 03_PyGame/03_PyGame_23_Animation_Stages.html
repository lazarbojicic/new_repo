<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Animation by stages &#8212; Textual Programming in Python</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Drawing text" href="03_PyGame_24_Animation_Text.html" />
    <link rel="prev" title="Drawings movement" href="03_PyGame_22_Animation_Motion.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="../_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'TxtProgInPython';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'TxtProgInPython';
  eBookConfig.runestone_version = '3.1.1';
  eBookConfig.imagesDir = '../_images/';
  eBookConfig.staticDir = '../_static/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Textual Programming in Python</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content">
  
  <div class="section" id="animation-by-stages">
<h1>Animation by stages<a class="headerlink" href="#animation-by-stages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="traffic-light">
<h2>Traffic light<a class="headerlink" href="#traffic-light" title="Permalink to this headline">¶</a></h2>
<p>One of the best known examples of a device that works by stages is a traffic light. In the example of the traffic light we will explain working by stages and how we can animate events that take place in stages on a computer.</p>
<p>There are several states in which a traffic light can be. For example, it can display red light, flashing yellow light, be turned off, etc. We shall call a period during which the traffic light does not change its state a stage. In normal operation of the traffic light, the stages alternate cyclically and each stage has its own duration. For example, take a traffic light for which the following four stages alternate: 1 - red light, 2 - red and yellow light, 3 - green light, and 4 - yellow light.</p>
<p>To make the animation simpler, we will express the duration of each stage in the number of frames (instead of seconds). Let the durations of the said stages be <span class="math notranslate nohighlight">\(n_1\)</span>, <span class="math notranslate nohighlight">\(n_2\)</span>, <span class="math notranslate nohighlight">\(n_3\)</span> and <span class="math notranslate nohighlight">\(n_4\)</span> frames respectively. Then the whole cycle lasts <span class="math notranslate nohighlight">\(N = n_1 + n_2 + n_3 + n_4\)</span> frames. Of these <span class="math notranslate nohighlight">\(N\)</span> frames, the first <span class="math notranslate nohighlight">\(n_1\)</span> belong to the first stage, the next <span class="math notranslate nohighlight">\(n_2\)</span> to the second stage etc.</p>
<p>To know which stage the current frame belongs to, we can introduce a global variable that will count the frames. Since the whole cycle lasts <span class="math notranslate nohighlight">\(N\)</span> frames, it is enough to count by modulus <span class="math notranslate nohighlight">\(N\)</span>. This means that when the frame counter reaches the value <span class="math notranslate nohighlight">\(N-1\)</span>, the next value is zero (we only count within one cycle). In this case, for values from 0 to <span class="math notranslate nohighlight">\(n_1 - 1\)</span>, the frame belongs to the first stage, for values from <span class="math notranslate nohighlight">\(n_1\)</span> to <span class="math notranslate nohighlight">\(n_1 + n_2 - 1\)</span> to the second stage, for values from <span class="math notranslate nohighlight">\(n_1 + n_2\)</span> to <span class="math notranslate nohighlight">\(n_1 + n_2 + n_3 - 1\)</span> to the third stage, and for values from <span class="math notranslate nohighlight">\(n_1 + n_2 + n_3\)</span> to <span class="math notranslate nohighlight">\(N-1\)</span> to the fourth stage.</p>
<p>Here’s what a program based on this logic might look like:</p>

<div data-childcomponent="PyGame__anim_stages_traffic_lights1" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_stages_traffic_lights1 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, pygamebg
(width, height) = (100, 300)
canvas = pygamebg.open_window(width, height, &quot;Traffic lights&quot;)

# stages are: red, red_yellow, green, yellow
stage_duration = (25, 10, 25, 10) # 25 frames for red, 10 for red_yellow etc.

stage_end = []
total_frames = 0
for f in stage_duration:
    total_frames += f
    stage_end.append(total_frames)

x = 50             # the x coordinate of all circle centers
y = [50, 150, 250] # y coordinates of the circle centers
r = 40             # circle radius
red_on  = (255,   0, 0)
red_off = (128,   0, 0)
yellow_on    = (255, 255, 0)
yellow_off   = (128, 128, 0)
green_on  = (  0, 255, 0)
green_off = (  0, 128, 0)

i_frame  = 0
fps = 10

def draw_trafficlights(color_up, color_middle, color_down):
    pg.draw.circle(canvas, color_up,     (x, y[0]), r)
    pg.draw.circle(canvas, color_middle, (x, y[1]), r)
    pg.draw.circle(canvas, color_down,   (x, y[2]), r)
        
def new_frame():
    global i_frame
    i_frame = (i_frame + 1) % total_frames
    
    canvas.fill(pg.Color(&quot;darkgray&quot;)) # paint background
    if i_frame &lt; stage_end[0]: # if the frame belongs to stage &apos;red&apos;
        draw_trafficlights(red_on, yellow_off, green_off)
    elif i_frame &lt; stage_end[1]: # if the frame belongs to stage &apos;red_yellow&apos;
        draw_trafficlights(red_on, yellow_on, green_off)
    elif i_frame &lt; stage_end[2]: # if the frame belongs to stage &apos;green&apos;
        draw_trafficlights(red_off, yellow_off, green_on)
    else: # frame belongs to the last stage (&apos;yellow&apos;)
        draw_trafficlights(red_off, yellow_on, green_off)

pygamebg.frame_loop(fps, new_frame)
"   >


</textarea>
</div>
</div>
<div class="section" id="tasks">
<h2>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h2>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Stage Five:</strong> Copy the previous program, then insert a stage for flashing green light, after the green light and before the yellow light (as shown in the example - “Play Task” button).</p>

    </p></div></div>
<p><strong>Hint:</strong> In the fifth phase, we will not have a single call to the <em>draw_trafficlights</em> function, but rather a piece of code that looks something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">i_frame</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">draw_trafficlights</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">draw_trafficlights</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>

<div data-childcomponent="PyGame__anim_stages_traffic_lights1a" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_stages_traffic_lights1a data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, pygamebg
(width, height) = (100, 300)
canvas = pygamebg.open_window(width, height, &quot;Traffic lights&quot;)

# stages are: red, red_yellow, green, blinking green, yellow
stage_duration = (25, 10, 25, 6, 10) # 25 frames for red, 10 for red_yellow etc.

stage_end = []
total_frames = 0
for f in stage_duration:
    total_frames += f
    stage_end.append(total_frames)

x = 50             # the x coordinate of all circle centers
y = [50, 150, 250] # y coordinates of the circle centers
r = 40             # circle radius
red_on     = (255,   0, 0)
red_off    = (128,   0, 0)
yellow_on  = (255, 255, 0)
yellow_off = (128, 128, 0)
green_on   = (  0, 255, 0)
green_off  = (  0, 128, 0)

i_frame  = 0
fps = 10

def draw_trafficlights(color_up, color_middle, color_down):
    pg.draw.circle(canvas, color_up,     (x, y[0]), r)
    pg.draw.circle(canvas, color_middle, (x, y[1]), r)
    pg.draw.circle(canvas, color_down,   (x, y[2]), r)
        
def new_frame():
    global i_frame
    i_frame = (i_frame + 1) % total_frames
    
    canvas.fill(pg.Color(&quot;darkgray&quot;)) # paint background
    if i_frame &lt; stage_end[0]: # if the frame belongs to stage &apos;red&apos;
        draw_trafficlights(red_on, yellow_off, green_off)
    elif i_frame &lt; stage_end[1]: # if the frame belongs to stage &apos;red_yellow&apos;
        draw_trafficlights(red_on, yellow_on, green_off)
    elif i_frame &lt; stage_end[2]: # if the frame belongs to stage &apos;green&apos;
        draw_trafficlights(red_off, yellow_off, green_on)
    elif i_frame &lt; stage_end[3]: # if the frame belongs to stage &apos;blinking green&apos;
        if i_frame % 2 == 0:
            draw_trafficlights(red_off, yellow_off, green_on)
        else:
            draw_trafficlights(red_off, yellow_off, green_off)
    else: # frame belongs to the last stage (&apos;yellow&apos;)
        draw_trafficlights(red_off, yellow_on, green_off)

pygamebg.frame_loop(fps, new_frame)
"  >


</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Plane:</strong> Write a program that works as shown in the example (“Play Task” button).</p>
<p>Movement description: the plane starts from the center of the left edge of the window. First it moves for 20 frames 2 pixels right and up, then 20 frames 2 pixels right and down. When it comes out through the right edge of the window, it appears at the same height on the left edge. Frame rate is 50 frames per second.</p>

    </p></div></div>
<a class="reference internal image-reference" href="../_images/airplane.png"><img alt="../_images/airplane.png" src="../_images/airplane.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/sun.png"><img alt="../_images/sun.png" src="../_images/sun.png" style="width: 50px;" /></a>

<div data-childcomponent="PyGame__anim_stages_plane" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_stages_plane data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, pygamebg
(width, height) = (800, 350)
canvas = pygamebg.open_window(width, height, &quot;Plane&quot;)

sun_image = pg.image.load(&quot;sun.png&quot;)        # image of the sun
plane_image = pg.image.load(&quot;airplane.png&quot;) # image of the plane
plane_width = plane_image.get_width()       # plane image width
plane_height = plane_image.get_height()     # plane image height

# plane position - initially the middle of the left edge
(plane_x, plane_y) = (0, (height - plane_height)  // 2)
i_frame = 0 # frame counter
END_STAGE_ONE = 20
TOTAL_NUM_FRAMES = 40
def new_frame():
    global plane_x, plane_y, i_frame    # will be changing plane position and frame counter
    i_frame = (i_frame + 1) % TOTAL_NUM_FRAMES
    if i_frame &lt; END_STAGE_ONE:
        plane_y -= 2  # in stage one we move the plane 1 pixel up
    else:
        plane_y += 2  # in stage two we move the plane 1 pixel up

    plane_x += 2      # move the plane 1 pixel to the right
    if plane_x &gt; width:
        plane_x = -plane_width

    canvas.fill(pg.Color(&quot;skyblue&quot;))             # paint background
    canvas.blit(sun_image, (0, 0))               # display the sun
    canvas.blit(plane_image, (plane_x, plane_y)) # display the plane

pygamebg.frame_loop(50, new_frame)
"  >
import pygame as pg, pygamebg
(width, height) = (800, 350)
canvas = pygamebg.open_window(width, height, "Plane")

def new_frame():
    pass

pygamebg.frame_loop(50, new_frame)


sun_image = pg.image.load("sun.png")        # image of the sun
plane_image = pg.image.load("airplane.png") # image of the plane
plane_width = plane_image.get_width()       # plane image width
plane_height = plane_image.get_height()     # plane image height

# finish the program
</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Mole:</strong> Write a program that works as shown in the example (“Play Task” button).</p>
<p>10 images are loaded with the mole coming out of the hole a bit more in each image. The cycle has four stages lasting 28 frames in total.</p>
<ul class="simple">
<li><p>Stage one lasts 10 frames and during this stage the mole is coming out of the hole (the images are shown in order, from first to tenth).</p></li>
<li><p>Stage two lasts 5 frames during which the mole is in the highest position (the tenth image is shown).</p></li>
<li><p>Stage three lasts 10 frames and during this stage the mole is coming into the hole (the images are shown from tenth to first).</p></li>
<li><p>Stage four lasts 3 frames and during it the mole is in the hole (the first image is shown).</p></li>
</ul>

    </p></div></div>
<a class="reference internal image-reference" href="../_images/mole1.png"><img alt="../_images/mole1.png" src="../_images/mole1.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole2.png"><img alt="../_images/mole2.png" src="../_images/mole2.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole3.png"><img alt="../_images/mole3.png" src="../_images/mole3.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole4.png"><img alt="../_images/mole4.png" src="../_images/mole4.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole5.png"><img alt="../_images/mole5.png" src="../_images/mole5.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole6.png"><img alt="../_images/mole6.png" src="../_images/mole6.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole7.png"><img alt="../_images/mole7.png" src="../_images/mole7.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole8.png"><img alt="../_images/mole8.png" src="../_images/mole8.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole9.png"><img alt="../_images/mole9.png" src="../_images/mole9.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/mole10.png"><img alt="../_images/mole10.png" src="../_images/mole10.png" style="width: 50px;" /></a>

<div data-childcomponent="PyGame__anim_stages_mole" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_stages_mole data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, pygamebg
(width, height) = (150, 150)
canvas = pygamebg.open_window(width, height, &quot;Mole&quot;)

images = []   # list that will contain the images
for i in range(1, 11): # reading images mole1.png, ..., mole10.png into the list
    image_name = &quot;mole&quot; + str(i) + &quot;.png&quot;  # building the image name from parts
    images.append(pg.image.load(image_name))

brown = (60, 42, 3)
Y_HORIZON = 125
GROUND = (0, Y_HORIZON, width, height - Y_HORIZON) # part of the image under the horizon
i_frame = 0 # frame counter

def new_frame():
    global i_frame, i_image
    i_frame = (i_frame + 1) % 28 # total number of frames is 28
    if i_frame &lt; 10:
        i_image = i_frame        # stage one - coming out
    elif i_frame &lt; 15:
        i_image = 9              # stage two - mole is up
    elif i_frame &lt; 25:
        i_image = 24 - i_frame   # stage three - going down
    else:
        i_image = 0              # stage four - mole is down

    canvas.fill(pg.Color(&quot;skyblue&quot;))     # paint background
    pg.draw.rect(canvas, brown, GROUND)  # paint rectangle GROUND to brown
    canvas.blit(images[i_image], (0, 0)) # display the image

pygamebg.frame_loop(10, new_frame)
"  >
import pygame as pg, pygamebg
(width, height) = (150, 150)
canvas = pygamebg.open_window(width, height, "Mole")

images = []   # list that will contain the images
for i in range(1, 11): # reading images mole1.png, ..., mole10.png into the list
    image_name = "mole" + str(i) + ".png"  # building the image name from parts
    images.append(pg.image.load(image_name))

brown = (60, 42, 3)
Y_HORIZON = 125
GROUND = (0, Y_HORIZON, width, height - Y_HORIZON) # part of the image under the horizon
i_frame = 0 # frame counter
i_image = 0

def new_frame():
    # complete the function - calculate which image is displayed in this frame

    canvas.fill(pg.Color("skyblue"))     # paint background
    pg.draw.rect(canvas, brown, GROUND)  # paint rectangle GROUND to brown
    canvas.blit(images[i_image], (0, 0)) # display the image

pygamebg.frame_loop(10, new_frame)
</textarea>
</div>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
        <li id="relations-prev" title='Previous chapter - Drawings movement' data-toggle="tooltip"><a href="03_PyGame_22_Animation_Motion.html">Previous chapter</a></li>
    
        <li id="relations-next" title='Next chapter - Drawing text' data-toggle="tooltip"><a href="03_PyGame_24_Animation_Text.html">Next chapter</a></li>
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
        <!-- <li id="relations-prev" title='Претходно поглавље - Drawings movement' data-toggle="tooltip"><a href="03_PyGame_22_Animation_Motion.html">Претходно поглавље</a></li> -->
    <!--  -->
    <!-- -->
        <!-- <li id="relations-next" title='Следеће поглавље - Drawing text' data-toggle="tooltip"><a href="03_PyGame_24_Animation_Text.html">Следеће поглавље</a></li> -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>