<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Create a batch of statements &#8212; Textual Programming in Python</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Additional instructions to a function" href="01_Karel_10_functions_params.html" />
    <link rel="prev" title="if statement - practice" href="01_Karel_08_if_practice.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="../_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'TxtProgInPython';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'TxtProgInPython';
  eBookConfig.runestone_version = '3.1.1';
  eBookConfig.imagesDir = '../_images/';
  eBookConfig.staticDir = '../_static/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Textual Programming in Python</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content">
  
  <div class="section" id="create-a-batch-of-statements">
<h1>Create a batch of statements<a class="headerlink" href="#create-a-batch-of-statements" title="Permalink to this headline">¶</a></h1>
<p>Let’s recall the task <em>Take the ball on the neighboring square</em>. The task was that in every direction, Karel needed to try to go to the neighboring square and (if he could go to the neighboring square) to try and get the ball there. In order to make trying the next direction easier, we chose to return Karel to the starting square after each attempt.</p>
<p>One program that solves that task is:</p>

<div data-childcomponent="Karel_functions__take_neighboring_ball_1" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__take_neighboring_ball_1 data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
from karel import *
for i in range(4):   # in each of the 4 directions
    if front_is_clear(): # search the square in that direction
        move()
        if is_ball_on_square():
            pick_ball()
        turn_left()          # come back to the starting square
        turn_left()
        move()
        turn_left()          # turn towards the square you just tried
        turn_left()
    turn_left()          # next direction
</textarea>
</div>
<p>The part of the program from the seventh to the eleventh line seems a little tougher to follow. In that part, you might need to imagine Karel executing statements to fully understand what is happening there.</p>
<p>Comments somewhat help making this part of the program easier to understand. In addition to the comments, it would be even better if there was a function <em>back()</em>, which would move Karel a step back. Then the program would be shorter and more intelligible:</p>

<div data-childcomponent="Karel_functions__take_neighboring_ball_2" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__take_neighboring_ball_2 data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
from karel import *
for i in range(4):          # in each of the 4 directions
    if front_is_clear():       # seek a free square in that direction
        move()
        if is_ball_on_square():
            pick_ball()
        back()                     # come back to starting square
    turn_left()                # next direction
</textarea>
</div>
<p>The function <em>back()</em> is not a part of the Karel library, but we can very easily write this function ourselves. When done, we will be able to use the function <em>back()</em> equally with the other functions of the <em>Karel</em> library, such as <em>move()</em> or <em>turn_right()</em>.</p>
<div class="section" id="how-to-write-functions">
<h2>How to write functions<a class="headerlink" href="#how-to-write-functions" title="Permalink to this headline">¶</a></h2>
<p>For now, we will only learn the simplest way of writing a function in Python, and we will see other, more complex forms later.</p>

<div data-childcomponent="Karel_functions__function_def" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__function_def data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
def function_name():
    statement_1
    ...
    statement_k
</textarea>
</div>

    <div class="course-box course-box-info">
        <div class="course-content">
            <p>
<p>When writing any function in Python, the word <code class="docutils literal notranslate"><span class="pre">def</span></code> at the beginning, brackets <code class="docutils literal notranslate"><span class="pre">()</span></code> and a colon  character <code class="docutils literal notranslate"><span class="pre">:</span></code> at the end of the first row are mandatory. For <em>function_name</em> we can use any correctly written name that we choose. The following statements are written indented, and they form the body of the function (if more than one command is written in a row, then these commands are separated by a semicolon <code class="docutils literal notranslate"><span class="pre">;</span></code>). The statements in the function body will be executed each time the function name is encountered when running the program, that is, when this function is called.</p>

    </p></div></div>
<p>In accordance to these rules, the function <em>back()</em> can be written as follows:</p>

<div data-childcomponent="Karel_functions__backwards_def" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__backwards_def data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
def back():
    turn_left(); turn_left()
    move()
    turn_left(); turn_left()
</textarea>
</div>
<p>Then the whole program would look like this:</p>

<div data-childcomponent="Karel_functions__take_neighboring_ball_final" class="karel_section course-box course-box-problem">
    <div class="course-content">
        <p>

    <div data-component="karel" id="Karel_functions__take_neighboring_ball_final" class="karel_section">
        <div class="karel_actions col-md-12 mb-2"><button class="btn btn-success run-button">Покрени програм</button>
        <button class="btn btn-default reset-button">Врати на почетак</button>
        <button class="btn btn-default blockly-button" style="display: inline-block;">Blockly</button></div>
        <div style="overflow: hidden;" class="karel_actions col-md-12" >
            <section class="col-md-12">
                <article>
                    <textarea class="codeArea" id="Karel_functions__take_neighboring_ball_final" name="code" rows="10" style="width: 100%;height:300px"></textarea>
                    <textarea class="configArea" style="display:none"><!--x {
   setup:function() {
      function random(n) {
         return Math.floor(n * Math.random());
      }

      var ww = [
         [
            '█████',
            '█0.0█',
            '███.█',
            '█1.N█',
            '███.█',
            '█0.0█',
            '█████'
         ],
         [
            '█████',
            '█1.0█',
            '█...█',
            '█E.0█',
            '█████'
         ],
         [
            '███████',
            '█0█0█0█',
            '█.█.█.█',
            '█0.W.0█',
            '█.█.█.█',
            '█0█1█0█',
            '███████'
         ]
      ];
      let choice = random(ww.length);
      var w = ww[choice];
      var ny = Math.floor(w.length / 2);
      var nx = Math.floor(w[0].length / 2);
      var world = new World(nx, ny);

      for (let y = 1; y &lt;= ny; y++) {
         let wy = 2*(ny-y) + 1;
         for (let x = 1; x &lt;= nx; x++) {
            let wx = 2*x - 1;
            if (y &lt; ny && w[wy - 1].charAt(wx) == "█") world.addEWWall(x, y, 1);
            if (x &lt; nx && w[wy].charAt(wx + 1) == "█") world.addNSWall(x, y, 1);
            let c = w[wy].charAt(wx);
            let pos = "SWEN".indexOf(c);
            if (pos > -1) {
               world.setRobotStartAvenue(x);
               world.setRobotStartStreet(y);
               world.setRobotStartDirection("SWEN".charAt(pos));
            }
            let d = w[wy].charCodeAt(wx);
            if (d >= 48 && d &lt; 58) world.putBalls(x, y, d - 48);
         }
      }

      var robot = new Robot();

      var code = ["from karel import *",
                  "def back():",
                  "    turn_left(); turn_left()",
                  "    move()",
                  "    turn_left(); turn_left()",
                  "",
                  "for i in range(4):",
                  "    if front_is_clear():",
                  "        move()",
                  "        if is_ball_on_square():",
                  "            pick_ball()",
                  "        back()",
                  "    turn_left()  # next direction",
                  ""];

      return {robot:robot, world:world, code:code};
   },

   isSuccess: function(robot, world) {
      return robot.getBalls() > 0;
   }
} x--></textarea>
                </article>
            </section>
            <section class="col-md-12">
                <article>
                    <canvas class="world" style="border-style: solid; border-width: 2px; border-color: inherit; background: white;" width="300" height="300">
                        <p>Please try loading this page in HTML5 enabled web browsers. All the latest versions of famous browsers such as Internet explorer, Chrome, Firefox, Opera support HTML5.</p>
                    </canvas>
                </article>
            </section>
        </div>
    </div>
    <p class="karel_caption karel_caption_text"> (Karel_functions__take_neighboring_ball_final)</p>
</p></div></div>


    <div class="course-box course-box-info">
        <div class="course-content">
            <p>
<p>When we extract some statements (that have a meaning as a group) into a function, we can write programs that are shorter and clearer, because we have broken down the problem into less complex parts.</p>
<p>Another advantage of writing functions is that we can easily use them in other programs (here, we will occasionally copy previously written functions, but, in real programming, there is a better and simpler way to reuse once written functions).</p>

    </p></div></div>
</div>
<div class="section" id="exiting-the-function-or-loop-before-its-end">
<h2>Exiting the function or loop before its end<a class="headerlink" href="#exiting-the-function-or-loop-before-its-end" title="Permalink to this headline">¶</a></h2>
<p>In the task of searching for the ball on a neighboring square, for the sake of the simplicity of the program, we decided that even when Karel finds a ball, he continues to search in the remaining directions. There is a way to avoid this unnecessary execution of the remaining statements.</p>

    <div class="course-box course-box-info">
        <div class="course-content">
            <p>
<p><strong>When we want to interrupt a loop execution</strong>, we write a special <code class="docutils literal notranslate"><span class="pre">break</span></code> statement. The effect of the <em>break</em> statement is to jump out of the loop and continue the execution of the program from the first statement after the loop.</p>
<p>By using a <em>break</em> statement, we will jump out of the nearest (narrowest) <em>for</em> or <em>while</em> loop containing the <em>break</em> statement. If a <em>break</em> statement is located inside two or more nested loops, the execution continues with the statement that follows the innermost (narrowest) loop.</p>

    </p></div></div>
<p>Using the <em>break</em> statement, we could modify the main part of the program:</p>

<div data-childcomponent="Karel_functions__break_intro_1" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__break_intro_1 data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
for i in range(4):
    if front_is_clear():
        move()
        if is_ball_on_square():
            pick_ball()
        back()
    turn_left()  # next direction
</textarea>
</div>
<p>into:</p>

<div data-childcomponent="Karel_functions__break_intro_2" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__break_intro_2 data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
for i in range(4):
    if front_is_clear():
        move()
        if is_ball_on_square():
            pick_ball()
            break
        back()
    turn_left()  # next direction
</textarea>
</div>
<p>This way, the loop ends as soon as the ball is found and taken. Since there are no other statements after this loop, in this case, by executing the <em>break</em> statement, the operation of the program finishes.</p>
<hr class="docutils" />
<p>Similarly to exiting the loop, we can also exit the function before all its statements are executed.</p>

    <div class="course-box course-box-info">
        <div class="course-content">
            <p>
<p><strong>When we want to interrupt the execution of a function</strong>, we write a special <code class="docutils literal notranslate"><span class="pre">return</span></code> statement. The effect of the <em>return</em> statement is to jump out of the function and continue executing the program from the first statement after the place the function was called from.</p>
<p>With a <em>return</em> statement we jump out of the function no matter how many loops there are around the <em>return</em> statement inside the function.</p>

    </p></div></div>
<p>We can turn the program for taking the ball on a neighboring field into a function. In that case, we could write:</p>

<div data-childcomponent="Karel_functions__return_intro" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__return_intro data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
def take_at_neighboring_square():
    for i in range(4):
        if front_is_clear():
            move()
            if is_ball_on_square():
                pick_ball()
                return # exit the function
            back()
        turn_left()  # next direction

take_at_neighboring_square()
</textarea>
</div>
</div>
<div class="section" id="tasks-for-exercise">
<h2>Tasks for exercise<a class="headerlink" href="#tasks-for-exercise" title="Permalink to this headline">¶</a></h2>
<div class="section" id="drop-the-balls-while-there-are-both-balls-and-squares">
<h3>Drop the balls while there are both balls and squares<a class="headerlink" href="#drop-the-balls-while-there-are-both-balls-and-squares" title="Permalink to this headline">¶</a></h3>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p>Initially, Karel has several balls and should arrange them along the path one at every square (starting from the square where he stands) as far as possible. Karel stops placing balls when he hits an obstacle or when he runs out of balls (whatever happens first). It does not matter if Karel will stop at the last filled square, or at the first empty square.</p>

    </p></div></div>
<p>Hint: Put one of these two conditions into a <em>while</em> loop, so that the loop ends when the condition is no longer met. Additionally, use the <em>break</em> statement to exit the loop if the other condition is not met.</p>

<div data-childcomponent="Karel_functions__put_balls_until_wall_or_no_more_balls" class="karel_section course-box course-box-problem">
    <div class="course-content">
        <p>

    <div data-component="karel" id="Karel_functions__put_balls_until_wall_or_no_more_balls" class="karel_section">
        <div class="karel_actions col-md-12 mb-2"><button class="btn btn-success run-button">Покрени програм</button>
        <button class="btn btn-default reset-button">Врати на почетак</button>
        <button class="btn btn-default blockly-button" style="display: inline-block;">Blockly</button></div>
        <div style="overflow: hidden;" class="karel_actions col-md-12" >
            <section class="col-md-12">
                <article>
                    <textarea class="codeArea" id="Karel_functions__put_balls_until_wall_or_no_more_balls" name="code" rows="10" style="width: 100%;height:300px"></textarea>
                    <textarea class="configArea" style="display:none"><!--x  {
     setup:function() {
         function random(n) {
             return Math.floor(n * Math.random());
         }
         var choice = random(3); // need initial world to get rid of 'choice'
         var N = [3, 4, 5];
         var world = new World(N[choice], 1);
         world.setRobotStartAvenue(1);
         world.setRobotStartStreet(1);
         world.setRobotStartDirection("E");

         var robot = new Robot();
         if (choice == 0) robot.setBalls(3);
         if (choice == 1) robot.setBalls(6);
         if (choice == 2) robot.setBalls(2);

         var code = ["from karel import *",
                     " # write the program",
                     ""];

         //var code = ["from karel import *",
         //            "while any_balls_with_karel():",
         //            "    drop_ball()",
         //            "    if not front_is_clear():",
         //            "        break",
         //            "    move()",
         //            ""];

         return {robot:robot, world:world, code:code};
     },

     isSuccess: function(robot, world) {
         var X = world.getAvenues();
         var zeroBallsFound = false;
         for (var x = 1; x &lt;= X; x++) {
             var b = world.getBalls(x, 1);
             if (b > 1) return false;
             if (b == 1 && zeroBallsFound) return false;
             if (b == 0) zeroBallsFound = true;
         }

        if (robot.getBalls() > 0 && zeroBallsFound)
            return false;

        return true;
     },
 } x--></textarea>
                </article>
            </section>
            <section class="col-md-12">
                <article>
                    <canvas class="world" style="border-style: solid; border-width: 2px; border-color: inherit; background: white;" width="300" height="300">
                        <p>Please try loading this page in HTML5 enabled web browsers. All the latest versions of famous browsers such as Internet explorer, Chrome, Firefox, Opera support HTML5.</p>
                    </canvas>
                </article>
            </section>
        </div>
    </div>
    <p class="karel_caption karel_caption_text"> (Karel_functions__put_balls_until_wall_or_no_more_balls)</p>
</p></div></div>

</div>
<div class="section" id="move-all-the-balls-one-square-backwards">
<h3>Move all the balls one square backwards<a class="headerlink" href="#move-all-the-balls-one-square-backwards" title="Permalink to this headline">¶</a></h3>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p>There is a path of unknown lenght in front of Karel. There are no balls in the starting square. Karel should shift each ball one square to the west.</p>

    </p></div></div>
<p>You can solve this task by repeating the following steps as long as there are squares in front of Karel:</p>
<ul class="simple">
<li><p>go to the next square</p></li>
<li><p>Take all the balls from that square</p></li>
<li><p>go a step back (that is, turn around and go one step ahead)</p></li>
<li><p>drop all the balls</p></li>
<li><p>go back to the square from which you took the balls</p></li>
</ul>
<p>In doing so, you can use the previously written function <em>back()</em> to return to the square to which Karel moves the balls. You just need to copy it (or re-type it) to the area for your solution.</p>

<div data-childcomponent="Karel_functions__all_balls_one_square_back" class="karel_section course-box course-box-problem">
    <div class="course-content">
        <p>

    <div data-component="karel" id="Karel_functions__all_balls_one_square_back" class="karel_section">
        <div class="karel_actions col-md-12 mb-2"><button class="btn btn-success run-button">Покрени програм</button>
        <button class="btn btn-default reset-button">Врати на почетак</button>
        <button class="btn btn-default blockly-button" style="display: inline-block;">Blockly</button></div>
        <div style="overflow: hidden;" class="karel_actions col-md-12" >
            <section class="col-md-12">
                <article>
                    <textarea class="codeArea" id="Karel_functions__all_balls_one_square_back" name="code" rows="10" style="width: 100%;height:300px"></textarea>
                    <textarea class="configArea" style="display:none"><!--x  {
     setup:function() {
        function random(n) {
           return Math.floor(n * Math.random());
        }
        var choice = random(3); // need initial world to get rid of 'choice'
        var N = [3, 4, 5];
        var world = new World(N[choice], 1);
        world.setRobotStartAvenue(1);
        world.setRobotStartStreet(1);
        world.setRobotStartDirection("E");

        var B = 0;
        if (Math.random() > 0.8) B = random(3);
        if (choice == 0) {
           world.putBalls(2, 1, B);
           world.putBalls(3, 1, B + 2);
        }
        if (choice == 1) {
           world.putBalls(2, 1, B);
           world.putBalls(3, 1, B + 3);
           world.putBalls(4, 1, B + 1);
        }
        if (choice == 2) {
           world.putBalls(2, 1, B);
           world.putBalls(3, 1, B + 2);
           world.putBalls(4, 1, B + 1);
           world.putBalls(5, 1, B + 0);
        }

        var robot = new Robot();

        var code = ["from karel import *",
                    "",
                    "# copy the function 'back()'",
                    "",
                    "while front_is_clear():  # while there are squares in fornt of Karel, repeat",
                    "    move();                  # go forward",
                    "    # complete the line      # pick up all the balls from this square",
                    "    # complete the line      # go one step back",
                    "    # complete the line      # drop all the balls",
                    "    # complete the line      # go forward once more to the emptied square",
                    ""];

        return {robot:robot, world:world, code:code};
     },

     isSuccess: function(robot, world) {
        var N = world.getAvenues();
        var B = world.getBalls(1, 1);
        if (N == 3) {
           if (world.getBalls(2, 1) != B + 2)
             return false;
        }
        if (N == 4) {
           if (world.getBalls(2, 1) != B + 3)
             return false;
           if (world.getBalls(3, 1) != B + 1)
             return false;
        }
        if (N == 5) {
           if (world.getBalls(2, 1) != B + 2)
             return false;
           if (world.getBalls(3, 1) != B + 1)
             return false;
           if (world.getBalls(4, 1) != B + 0)
             return false;
        }

        if (world.getBalls(N, 1) != 0)
           return false;

        if (robot.getBalls() > 0)
              return false;

        return true;
     },
 } x--></textarea>
                </article>
            </section>
            <section class="col-md-12">
                <article>
                    <canvas class="world" style="border-style: solid; border-width: 2px; border-color: inherit; background: white;" width="300" height="300">
                        <p>Please try loading this page in HTML5 enabled web browsers. All the latest versions of famous browsers such as Internet explorer, Chrome, Firefox, Opera support HTML5.</p>
                    </canvas>
                </article>
            </section>
        </div>
    </div>
    <p class="karel_caption karel_caption_text"> (Karel_functions__all_balls_one_square_back)</p>
</p></div></div>


    <div data-component="reveal" id="Karel_functions__all_balls_one_square_back_reveal"   data-showtitle="Solution" data-hidetitle="Hide solution">
    
<div data-childcomponent="Karel_functions__all_balls_one_square_back_solution" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=Karel_functions__all_balls_one_square_back_solution data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
             data-passivecode="true"  data-hidehistory=true
       >
from karel import *
def back():      # go one step back, and maintain the same orientation
    turn_left(); turn_left();
    move();
    turn_left(); turn_left();

while front_is_clear():       # while there are squares in fornt of Karel, repeat
    move();                       # go to a new square
    while is_ball_on_square():    # take all the balls from this square
        pick_ball()
    back()                        # step back
    while any_balls_with_karel(): # drop all the balls
        drop_ball()
    move()                        # go to the emptied square
</textarea>
</div>

    </div>
    </div>
<div class="section" id="follow-the-balls">
<h3>Follow the balls<a class="headerlink" href="#follow-the-balls" title="Permalink to this headline">¶</a></h3>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p>Each square contains one ball or none. Squares with the balls on them form a path, which begins on the square next to Karel. Karel should follow this path and pick up all the balls.</p>

    </p></div></div>
<p>Hint: To solve this task, you can write the function <em>go_to_neighboring_nonempty_square()</em>, which only needs to move Karell to the neighboring square which has a ball on it (the <em>return</em> statement can be useful there). The function <em>go_to_neighboring_nonempty_square()</em> should differ from the previously written function <em>take_at_neighboring_square()</em> only in the sense that it does not take the ball.</p>
<p>When Karel collects all the balls, the next call of this function will place him on an empty square (by the way, this will be the square where Karel took the last ball). When there is no ball on the square which Karel is on, this will mean that Karel has already taken all the balls.</p>

<div data-childcomponent="Karel_functions__follow_the_balls" class="karel_section course-box course-box-problem">
    <div class="course-content">
        <p>

    <div data-component="karel" id="Karel_functions__follow_the_balls" class="karel_section">
        <div class="karel_actions col-md-12 mb-2"><button class="btn btn-success run-button">Покрени програм</button>
        <button class="btn btn-default reset-button">Врати на почетак</button>
        <button class="btn btn-default blockly-button" style="display: inline-block;">Blockly</button></div>
        <div style="overflow: hidden;" class="karel_actions col-md-12" >
            <section class="col-md-12">
                <article>
                    <textarea class="codeArea" id="Karel_functions__follow_the_balls" name="code" rows="10" style="width: 100%;height:300px"></textarea>
                    <textarea class="configArea" style="display:none"><!--x  {
     setup:function() {
         function random(n) {
             return Math.floor(n * Math.random());
         }

         var ww = [
             [
                '███████████',
                '█0.0.1.1.0█',
                '█.........█',
                '█0.N.0.1.0█',
                '█.........█',
                '█0.1.1.1.0█',
                '███████████'
             ],
             [
                '███████████',
                '█1.1.1.1.1█',
                '█.........█',
                '█1.0.0.0.1█',
                '██........█',
                '█S.1.1.1.1█',
                '███████████'
             ]
         ];
         let choice = random(ww.length);
         var w = ww[choice];
         var ny = Math.floor(w.length / 2);
         var nx = Math.floor(w[0].length / 2);
         var world = new World(nx, ny);

         for (let y = 1; y &lt;= ny; y++) {
             let wy = 2*(ny-y) + 1;
             for (let x = 1; x &lt;= nx; x++) {
                 let wx = 2*x - 1;
                 if (y &lt; ny && w[wy - 1].charAt(wx) == "█") world.addEWWall(x, y, 1);
                 if (x &lt; nx && w[wy].charAt(wx + 1) == "█") world.addNSWall(x, y, 1);
                 let c = w[wy].charAt(wx);
                 let pos = "SWEN".indexOf(c);
                 if (pos > -1) {
                     world.setRobotStartAvenue(x);
                     world.setRobotStartStreet(y);
                     world.setRobotStartDirection("SWEN".charAt(pos));
                 }
                 let d = w[wy].charCodeAt(wx);
                 if (d >= 48 && d &lt; 58) world.putBalls(x, y, d - 48);
             }
         }

         var robot = new Robot();

         var code = ["from karel import *",
                     "def back():",
                     "    turn_left(); turn_left()",
                     "    move()",
                     "    turn_left(); turn_left()",
                     "",
                     "def go_to_neighboring_nonempty_square():",
                     "    # write the function",
                     "",
                     "go_to_neighboring_nonempty_square()",
                     "while ??? # add the condition",
                     "    pick_ball()",
                     "    ??? # complete the program",
                     ""];

         //var code = ["from karel import *",
         //            "def back():",
         //            "    turn_left(); turn_left()",
         //            "    move()",
         //            "    turn_left(); turn_left()",
         //            "",
         //            "def go_to_neighboring_nonempty_square():",
         //            "    for i in range(4):",
         //            "        if front_is_clear():",
         //            "            move()",
         //            "            if is_ball_on_square():",
         //            "                return",
         //            "            back()",
         //            "        turn_left()  # next direction",
         //            "",
         //            "go_to_neighboring_nonempty_square()",
         //            "while is_ball_on_square():",
         //            "    pick_ball()",
         //            "    go_to_neighboring_nonempty_square()",
         //            ""];

         return {robot:robot, world:world, code:code};
     },

     isSuccess: function(robot, world) {
         var X = world.getAvenues();
         var Y = world.getStreets();
         for (var y = 1; y &lt;= Y; y++)
             for (var x = 1; x &lt;= X; x++)
                 if (world.getBalls(x, y) > 0)
                     return false;

         return true;
     },
 } x--></textarea>
                </article>
            </section>
            <section class="col-md-12">
                <article>
                    <canvas class="world" style="border-style: solid; border-width: 2px; border-color: inherit; background: white;" width="300" height="300">
                        <p>Please try loading this page in HTML5 enabled web browsers. All the latest versions of famous browsers such as Internet explorer, Chrome, Firefox, Opera support HTML5.</p>
                    </canvas>
                </article>
            </section>
        </div>
    </div>
    <p class="karel_caption karel_caption_text"> (Karel_functions__follow_the_balls)</p>
</p></div></div>

</div>
<div class="section" id="take-all-the-balls-from-the-whole-table">
<h3>Take all the balls from the whole table<a class="headerlink" href="#take-all-the-balls-from-the-whole-table" title="Permalink to this headline">¶</a></h3>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p>Karel is initially facing north (up), and he is located in the lower left corner of a rectangular table of unknown size, with no interior walls. There can be any number of balls on each square. Karel should take all the balls from all the squares on the board.</p>

    </p></div></div>
<p>Hint: Write a function <em>empty_one_row()</em>, which makes Karel:</p>
<ul class="simple">
<li><p>turn left (to the east), looking along the row he is in</p></li>
<li><p>pass through the entire row and take all the balls from each square in that row, <strong>including the square he started on</strong></p></li>
<li><p>turn to the beginning of the row (i.e. to the west)</p></li>
<li><p>return to the beginning of the row and turn north (up), as he stood before the function call</p></li>
</ul>
<p>The program that solves the task using this function is not long. It needs to do the following:</p>
<ul class="simple">
<li><p>empty the first row</p></li>
<li><p>while there are rows in front of Karel, go to the next one and empty it</p></li>
</ul>

<div data-childcomponent="Karel_functions_take_all_balls_2D" class="karel_section course-box course-box-problem">
    <div class="course-content">
        <p>

    <div data-component="karel" id="Karel_functions_take_all_balls_2D" class="karel_section">
        <div class="karel_actions col-md-12 mb-2"><button class="btn btn-success run-button">Покрени програм</button>
        <button class="btn btn-default reset-button">Врати на почетак</button>
        <button class="btn btn-default blockly-button" style="display: inline-block;">Blockly</button></div>
        <div style="overflow: hidden;" class="karel_actions col-md-12" >
            <section class="col-md-12">
                <article>
                    <textarea class="codeArea" id="Karel_functions_take_all_balls_2D" name="code" rows="10" style="width: 100%;height:300px"></textarea>
                    <textarea class="configArea" style="display:none"><!--x {
   setup:function() {
      function random(n) {
         return Math.floor(n * Math.random());
      }

      var sizes = [1, 2, 3, 3, 4, 4, 4];
      var numBalls = [0, 0, 1, 1, 1, 3];
      var X = sizes[random(sizes.length)];
      var Y = sizes[random(sizes.length)];
      var world = new World(X, Y);
      world.setRobotStartAvenue(1);
      world.setRobotStartStreet(1);
      world.setRobotStartDirection("N");

      for (var col = 1; col &lt;= X; col++) {
          for (var row = 1; row &lt;= Y; row++) {
              let B = numBalls[random(numBalls.length)];
              world.putBalls(col, row, B);
          }
      }

      var robot = new Robot();

      var code = ["from karel import *",
                  "# write the program",
                  ""];
     //var code = ["from karel import *
     //            "def empty_one_row():",
     //            "    turn_right()                # turn towards end of the row (eastwards)",
     //            "    while is_ball_on_square():  # empty first square in the row",
     //            "        pick_ball()",
     //            "    while front_is_clear():     # while there are unvisited squares",
     //            "        move()                      # go to a new square",
     //            "        while is_ball_on_square():  # emtpy the new square",
     //            "            pick_ball()",
     //            "        ",
     //            "    turn_right(); turn_right()  # turn towards beginning of the row (westwards)",
     //            "    while front_is_clear():     # come back to the first square in that row",
     //            "        move()",
     //            "    turn_right()                # turn towards next row (northwards)",
     //            "",
     //            "empty_one_row()             # pick up the balls from the first row",
     //            "while front_is_clear():     # while there are new rows",
     //            "    move(); empty_one_row()     # go to the next row and empty it",
     //            ""];

      return {robot:robot, world:world, code:code};
     },

     isSuccess: function(robot, world) {
        var X = world.getAvenues();
        var Y = world.getStreets();
        for (var col = 1; col &lt;= X; col++) {
           for (var row = 1; row &lt;= Y; row++) {
              if (world.getBalls(col, row) > 0)
                 return false;
           }
        }

        return true;
   },
} x--></textarea>
                </article>
            </section>
            <section class="col-md-12">
                <article>
                    <canvas class="world" style="border-style: solid; border-width: 2px; border-color: inherit; background: white;" width="300" height="300">
                        <p>Please try loading this page in HTML5 enabled web browsers. All the latest versions of famous browsers such as Internet explorer, Chrome, Firefox, Opera support HTML5.</p>
                    </canvas>
                </article>
            </section>
        </div>
    </div>
    <p class="karel_caption karel_caption_text"> (Karel_functions_take_all_balls_2D)</p>
</p></div></div>

</div>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
        <li id="relations-prev" title='Previous chapter - <em>if</em> statement - practice' data-toggle="tooltip"><a href="01_Karel_08_if_practice.html">Previous chapter</a></li>
    
        <li id="relations-next" title='Next chapter - Additional instructions to a function' data-toggle="tooltip"><a href="01_Karel_10_functions_params.html">Next chapter</a></li>
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
        <!-- <li id="relations-prev" title='Претходно поглавље - <em>if</em> statement - practice' data-toggle="tooltip"><a href="01_Karel_08_if_practice.html">Претходно поглавље</a></li> -->
    <!--  -->
    <!-- -->
        <!-- <li id="relations-next" title='Следеће поглавље - Additional instructions to a function' data-toggle="tooltip"><a href="01_Karel_10_functions_params.html">Следеће поглавље</a></li> -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>