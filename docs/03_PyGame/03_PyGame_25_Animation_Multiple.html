<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Moving multiple objects &#8212; Textual Programming in Python</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Interaction" href="03_PyGame_30_Interaction.html" />
    <link rel="prev" title="Drawing text" href="03_PyGame_24_Animation_Text.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="../_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'TxtProgInPython';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'TxtProgInPython';
  eBookConfig.runestone_version = '3.1.1';
  eBookConfig.imagesDir = '../_images/';
  eBookConfig.staticDir = '../_static/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Textual Programming in Python</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content">
  
  <div class="section" id="moving-multiple-objects">
<h1>Moving multiple objects<a class="headerlink" href="#moving-multiple-objects" title="Permalink to this headline">¶</a></h1>
<p>So far, we have made animations in which various objects were moving (car, billiard ball, plane, text), but in each of these programs there was only one moving object. For the global variables that describe the scene we used the coordinates of that moving object, and sometimes we also used other values, such as displacement, direction of motion, and so on.</p>
<p>The movement of multiple objects is not fundamentally different from the movement of a single object - we will simply need to track values that describe movement for all of the objects. For example, we can represent each object with a tuple of values describing it, and keep all such tuples in a list.</p>
<div class="section" id="balls">
<h2>Balls<a class="headerlink" href="#balls" title="Permalink to this headline">¶</a></h2>
<p>In the following example we will see animated motion of several balls. Each ball is represented by a <span class="math notranslate nohighlight">\((x, y, dx, dy, r, color)\)</span> tuple, where <span class="math notranslate nohighlight">\(x, y\)</span> are the coordinates of the center of the ball, <span class="math notranslate nohighlight">\(dx, dy\)</span> are the displacements of the ball per coordinate, <span class="math notranslate nohighlight">\(r\)</span> is the radius, and <span class="math notranslate nohighlight">\(color\)</span> is the color of the ball. All such tuples are placed in the list <em>balls</em>.</p>
<p>When unpacking a tuple from a list element (command <code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">dx,</span> <span class="pre">dy,</span> <span class="pre">r,</span> <span class="pre">color</span> <span class="pre">=</span> <span class="pre">balls[i]</span></code>), as well as when returning it to the list (command <code class="docutils literal notranslate"><span class="pre">balls[i]</span> <span class="pre">=</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">dx,</span> <span class="pre">dy,</span> <span class="pre">r,</span> <span class="pre">color)</span></code>), we should mind the order of the variables.</p>
<p>In the example, we use the <code class="docutils literal notranslate"><span class="pre">random</span></code> module to create the balls in order to get random selections (imported using the <em>import</em> command). The <code class="docutils literal notranslate"><span class="pre">random.randint(a,</span> <span class="pre">b)</span></code> function returns a random integer between <em>a</em> and <em>b</em> (including boundaries), and the <code class="docutils literal notranslate"><span class="pre">random.choice(a)</span></code> function returns a random element from the collection <em>a</em>.</p>

<div data-childcomponent="PyGame__anim_balls_bouncing" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_balls_bouncing data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import random, pygame as pg, pygamebg
(width, height) = (500, 300)
canvas = pygamebg.open_window(width, height, &quot;Balls&quot;)

colors = (
    pg.Color(&quot;red&quot;), pg.Color(&quot;yellow&quot;), pg.Color(&quot;blue&quot;),
    pg.Color(&quot;cyan&quot;), pg.Color(&quot;green&quot;), pg.Color(&quot;purple&quot;)
)

# Make a list of 10 ball. The ball is determined by 
# position (x, y), displacement (dx, dy), size (r) and color.
balls = []
for _ in range(10):
    r = random.randint(10, 30)
    x = random.randint(r, width - r)
    y = random.randint(r, height - r)
    color = random.choice(colors)
    dx, dy = 0, 0
    while dx == 0 and dy == 0: # we don&apos;t want the balls that stand still
        dx = random.randint(-8, 8)
        dy = random.randint(-8, 8)
    balls.append((x, y, dx, dy, r, color))
    
def new_frame():
    global balls
    for i in range(10):
        x, y, dx, dy, r, color = balls[i]
        (x, y) = (x + dx, y + dy)
        if x - r &lt; 0 or x + r &gt; width: 
            dx = -dx
        if y - r &lt; 0 or y + r &gt; height: 
            dy = -dy
        balls[i] = (x, y, dx, dy, r, color)
        
    canvas.fill(pg.Color(&quot;darkgray&quot;))
    for x, y, dx, dy, r, color in balls:
        pg.draw.circle(canvas, color, (x, y), r)

pygamebg.frame_loop(50, new_frame)
"   >


</textarea>
</div>
<p>If we compare this program to the animation of motion of a billiard ball, we will notice a great similarity. The <em>new_frame</em> function is essentially different only in that now all actions (moving, bouncing, drawing) are done in a loop, since they need to be done for each ball. Setting the initial state is also somewhat more complicated, as there are more objects and we store multiple data for each of them, and we also use random choices.</p>
<hr class="docutils" />
<p>In the previous example, all objects (balls) are present from the beginning to the end of the program. There are situations when we want some objects to cease to exist during program execution, or some new objects to appear (or both). In such cases, we can use an auxiliary list in the <em>new_frame</em> function in which we will put values that describe the new state. A typical sequence of activities is as follows:</p>
<ul class="simple">
<li><p>create a new blank list at the beggining of the <em>new_frame</em> function</p></li>
<li><p>we go through the list of existing tuples, change them, and add the ones that we still need to the new list</p></li>
<li><p>if needed, supplement the list with new tuples</p></li>
<li><p>finally, we update the global list by putting in values from the new, auxiliary list</p></li>
</ul>
<p>Let’s look at an example.</p>
</div>
<div class="section" id="stars">
<h2>Stars<a class="headerlink" href="#stars" title="Permalink to this headline">¶</a></h2>
<p>In this example, we simulate moving through space. The stars we encounter are represented with white circles and are determined by their position and radius.</p>
<p>For each frame, we compute a new auxiliary list that describes the next state. We move the stars following some rule, and we copy those that have not completely left the window to the next state list. After processing existing stars, we add new stars to the next state list so that the total number of stars would not decrease. Finally, we move all the stars to the global list so that we can calculate the next frame later.</p>

<div data-childcomponent="PyGame__anim_trough_stars" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_trough_stars data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import random, pygame as pg, pygamebg
(width, height) = (500, 300)
canvas = pygamebg.open_window(width, height, &quot;Stars&quot;)
cx, cy = width // 2, height // 2

# A star is determined by its position (x, y) and size (r).
def new_star():
    r = random.randint(1, 3)
    x = random.randint(r, width - r)
    y = random.randint(r, height - r)
    return (x, y, r)

# Create a list of stars.
num_stars = 40
stars = []
for _ in range(num_stars):
    stars.append(new_star())
    
def new_frame():
    global stars
    next_stars = [] # list that will contain the next state
    for x, y, r in stars:
        x += 0.01 * (x-cx) # x moves away from the center of the window
        y += 0.01 * (y-cy) # y moves away from the center of the window
        r *= 1.01          # we see the star as bigger because we are &quot;approaching&quot;
        # if at least part of the star is in the window, we&apos;ll keep it
        if (x+r &gt; 0 and x-r &lt; width and y+r &gt; 0 and y-r &lt; height):
            next_stars.append((x, y, r))
            
    while len(next_stars) &lt; num_stars:
        next_stars.append(new_star())

    stars = next_stars
    canvas.fill(pg.Color(&quot;black&quot;))
    for x, y, r in stars:
        ix, iy, ir = int(x), int(y), int(r)
        pg.draw.circle(canvas, pg.Color(&apos;white&apos;), (ix, iy), ir)

pygamebg.frame_loop(60, new_frame)
"   >


</textarea>
</div>
<p>This example is given primarily to introduce a different way of working with a list of tuples that describe a scene. Because of that, some interesting details were left in the background. Let us look a bit at those, in this context, side details. To get the effect of approaching, the stars in front of us should move apart and magnify. Therefore, in the program, the values of <em>x</em> and <em>y</em> change so that the stars move from the center of the window to the edges, moving faster as they go further away from the center.</p>
<p>It’s not particularly important that you fully understand the commands that change the values of <em>x</em>, <em>y</em>, and <em>r</em> in order to learn programming, but you can try out how the animation changes when you slightly alter the coefficients in those commands (for example, stars can be moving slower, or growing faster).</p>
</div>
<div class="section" id="tasks">
<h2>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h2>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Snowflakes:</strong> Complete the program so that it works as shown in the example (“Play Task” button).</p>
<p>Each snowflake is described with only two numbers, its coordinates, so the tuples we will use will actually be pairs <span class="math notranslate nohighlight">\((x, y)\)</span>.</p>
<p>Snowflakes fall 1 pixel at a time, and those that go out of the window are replaced with new snowflakes. Forming a new state is similar to that of the “stars” program, only the rules for moving snowflakes are simpler.</p>
<p>The snowflakes in the initial set are selected anywhere in the window, and the ones that are added later are selected somewhere on the top edge of the window.</p>

    </p></div></div>
<a class="reference internal image-reference" href="../_images/snowflake.png"><img alt="../_images/snowflake.png" src="../_images/snowflake.png" style="width: 50px;" /></a>

<div data-childcomponent="PyGame__anim_snowflakes" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_snowflakes data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import random, pygame as pg, pygamebg
(width, height) = (800, 400)
canvas = pygamebg.open_window(width, height, &quot;Snowflakes&quot;)

snowflake_image = pg.image.load(&quot;snowflake.png&quot;)  # a snowflake image
snowflake_height = snowflake_image.get_height()
num_flakes = 10 # total number of the snowflakes

# randomly generate snowflake positions
snowflakes = []
for i in range(num_flakes):
    x, y = random.randint(0, width), random.randint(0, height)
    snowflakes.append((x, y))

def new_frame():
    global snowflakes

    # move the flakes that have not fallen yet and put them into a new list
    new_flakes = []
    for x, y in snowflakes:
        if y + snowflake_height &lt; height:
            new_flakes.append((x, y+1))
            
    # append the list with new snowflakes, 
    # which are starting to fall from the top of the window
    while len(new_flakes) &lt; num_flakes:
        x, y = random.randint(0, width), random.randint(-snowflake_height, 0)
        new_flakes.append((x, y))
        
    snowflakes = new_flakes
    canvas.fill(pg.Color(&quot;white&quot;))    # paint background
    for (x, y) in snowflakes:         # draw all the snowflakes
        canvas.blit(snowflake_image, (x, y))

pygamebg.frame_loop(50, new_frame)
"  >
import random, pygame as pg, pygamebg
(width, height) = (800, 400)
canvas = pygamebg.open_window(width, height, "Snowflakes")

snowflake_image = pg.image.load("snowflake.png")  # a snowflake image
snowflake_height = snowflake_image.get_height()
num_flakes = 10 # total number of the snowflakes
</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Outgoing balls:</strong> Copy the first program (balls) here, and modify it so that the balls do not bounce but continue to move away, and the ones that go off get replaced with new balls. This program is a combination of the two given examples (balls and stars), so try to use parts from both of these programs.</p>

    </p></div></div>

<div data-childcomponent="PyGame__anim_balls_passing" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_balls_passing data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import random, pygame as pg, pygamebg
(width, height) = (500, 300)
canvas = pygamebg.open_window(width, height, &quot;Balls&quot;)

colors = (
    pg.Color(&quot;red&quot;), pg.Color(&quot;yellow&quot;), pg.Color(&quot;blue&quot;),
    pg.Color(&quot;cyan&quot;), pg.Color(&quot;green&quot;), pg.Color(&quot;purple&quot;)
)
 
# The ball is determined by position (x, y), displacement (dx, dy), size (r) and color.
def new_ball():
    r = random.randint(10, 30)
    x = random.randint(r, width - r)
    y = random.randint(r, height - r)
    color = random.choice(colors)
    dx, dy = 0, 0
    while dx == 0 and dy == 0: # we don&apos;t want the balls that stand still
        dx = random.randint(-8, 8)
        dy = random.randint(-8, 8)
    return (x, y, dx, dy, r, color)


# make a list of 10 balls
balls = []
for _ in range(10):
    balls.append(new_ball())
    
def new_frame():
    global balls
    next_balls = [] # list that will contain the next position of each ball
    for x, y, dx, dy, r, color in balls:
        (x, y) = (x + dx, y + dy)
        if (x+r &lt; 0 or x-r &gt; width or y+r &lt; 0 or y-r &gt; height):
            x, y, dx, dy, r, color = new_ball()
            
        next_balls.append((x, y, dx, dy, r, color))
        
    balls = next_balls
    canvas.fill(pg.Color(&quot;darkgray&quot;))
    for x, y, dx, dy, r, color in balls:
        pg.draw.circle(canvas, color, (x, y), r)

pygamebg.frame_loop(50, new_frame)
"  >


</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Gliding text</strong> Try out the program and try to understand how it works. Try altering something in the program (the text being displayed, the color in which the text is being displayed, the speed at which the text moves, or any other detail).</p>
<p>Challenge: Try to modify the program so that the text glides down instead of up.</p>

    </p></div></div>

<div data-childcomponent="PyGame__anim_gliding_text" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_gliding_text data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, pygamebg

(width, height) = (700, 250)
canvas = pygamebg.open_window(width, height, &quot;Story&quot;)
text = (
    &quot;Young children learn to walk&quot;,
    &quot;by starting to walk.&quot;,
    &quot;At first, they often fall,&quot;,
    &quot;but they get up and keep going&quot;,
    &quot;and with time&quot;,
    &quot;they&apos;re getting better.&quot;,
    &quot;Why not learn&quot;,
    &quot;all the other skills&quot;,
    &quot; that way?&quot;,
    &quot; &quot;
)

font = pg.font.SysFont(&quot;Arial&quot;, 40) # font for displaying the text
MARGIN_UP_DOWN = 30
TEXT_HEIGHT = 50
y_text_start = 200
i_first_visible_text_line = 0
num_visible_text_lines = 1

def draw():
    canvas.fill(pg.Color(&quot;skyblue&quot;)) # paint the background
    
    i_line = i_first_visible_text_line
    y = y_text_start
    for _ in range(num_visible_text_lines):
        # build an image of a text line and display it
        gray = min(230 - y, 192)
        color = (gray, gray, gray)
        text_image = font.render(text[i_line], True, color)
        canvas.blit(text_image, (20, y)) 
        i_line = (i_line + 1) % len(text)
        y += TEXT_HEIGHT

def new_frame():
    global i_first_visible_text_line, y_text_start, num_visible_text_lines
    y_text_start -= 1 # entire text glides 1 pixel up
    
    # check if the first line of text came out through the top
    if y_text_start &lt; MARGIN_UP_DOWN:
        i_first_visible_text_line = (i_first_visible_text_line + 1) % len(text)
        y_text_start += TEXT_HEIGHT
    
    # is there room for another row
    next_line_pos = y_text_start + TEXT_HEIGHT * num_visible_text_lines
    if next_line_pos + TEXT_HEIGHT + MARGIN_UP_DOWN &lt; height:
        num_visible_text_lines += 1
        
    draw()

pygamebg.frame_loop(30, new_frame)
"   >


</textarea>
</div>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
        <li id="relations-prev" title='Previous chapter - Drawing text' data-toggle="tooltip"><a href="03_PyGame_24_Animation_Text.html">Previous chapter</a></li>
    
        <li id="relations-next" title='Next chapter - Interaction' data-toggle="tooltip"><a href="03_PyGame_30_Interaction.html">Next chapter</a></li>
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
        <!-- <li id="relations-prev" title='Претходно поглавље - Drawing text' data-toggle="tooltip"><a href="03_PyGame_24_Animation_Text.html">Претходно поглавље</a></li> -->
    <!--  -->
    <!-- -->
        <!-- <li id="relations-next" title='Следеће поглавље - Interaction' data-toggle="tooltip"><a href="03_PyGame_30_Interaction.html">Следеће поглавље</a></li> -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>