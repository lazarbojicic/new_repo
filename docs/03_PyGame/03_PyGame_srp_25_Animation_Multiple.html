<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Кретање више објеката &#8212; Textual Programming in Python</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'TxtProgInPython';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'TxtProgInPython';
  eBookConfig.runestone_version = '3.1.1';
  eBookConfig.imagesDir = '../_images/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Textual Programming in Python</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content">
  
  <div class="section" id="id1">
<h1>Кретање више објеката<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>До сада смо правили анимације у којима су се кретали разни објекти (ауто, билијарска кугла, авион, текст), али у сваком таквом програму кретао се само један објекат. Као глобалне променљиве које описују сцену користили смо координате тог покретног објекта, а понекад и друге величине, на пример померај, смер кретања и слично.</p>
<p>Кретање више објеката се суштински не разликује од кретања једног објекта, само ће бити потребно да се прате величине које описују кретање свих објеката. На пример, можемо сваки објекат да представимо торком вредности које га описују, а све такве торке да држимо у листи.</p>
<div class="section" id="id2">
<h2>Лопте<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>У следећем примеру видећемо анимирано кретање неколико лопти. Свака лопта је представљена торком <span class="math notranslate nohighlight">\((x, y, dx, dy, r, boja)\)</span>, где су <span class="math notranslate nohighlight">\(x, y\)</span> координате центра лопте, <span class="math notranslate nohighlight">\(dx, dy\)</span> су помераји лопте по координатама, <span class="math notranslate nohighlight">\(r\)</span> је полупречник, а <span class="math notranslate nohighlight">\(boja\)</span> је боја лопте. Све такве торке су смештене у листу <em>lopte</em>.</p>
<p>Приликом распакивања торке из једног елемента листе (наредба <code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">dx,</span> <span class="pre">dy,</span> <span class="pre">r,</span> <span class="pre">boja</span> <span class="pre">=</span> <span class="pre">lopte[i]</span></code>), као и приликом враћања у листу (наредба <code class="docutils literal notranslate"><span class="pre">lopte[i]</span> <span class="pre">=</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">dx,</span> <span class="pre">dy,</span> <span class="pre">r,</span> <span class="pre">boja)</span></code>), водимо рачуна о редоследу променљивих.</p>
<p>У примеру се за креирање лопти користи модул <code class="docutils literal notranslate"><span class="pre">random</span></code>, који омогућава случајне изборе (увезен помоћу наредбе <em>import</em>). Функција <code class="docutils literal notranslate"><span class="pre">random.randint(a,</span> <span class="pre">b)</span></code> враћа случајан цео број између <em>a</em> и <em>b</em> (укључујући и границе), а Функција <code class="docutils literal notranslate"><span class="pre">random.choice(a)</span></code> враћа случајан елемент колекције <em>a</em>.</p>

<div data-childcomponent="PyGame__anim_balls_bouncing_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_balls_bouncing_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import random, pygame as pg, petljapg
(sirina, visina) = (500, 300)
prozor = petljapg.open_window(sirina, visina, &quot;Лопте&quot;)

boje = (
    pg.Color(&quot;red&quot;), pg.Color(&quot;yellow&quot;), pg.Color(&quot;blue&quot;),
    pg.Color(&quot;cyan&quot;), pg.Color(&quot;green&quot;), pg.Color(&quot;purple&quot;)
)

# Napravimo listu od 10 lopti. Loptu odredjuje
# polozaj (x, y), pomeraj (dx, dy), velicina (r) i boja.
lopte = []
for _ in range(10):
    r = random.randint(10, 30)
    x = random.randint(r, sirina - r)
    y = random.randint(r, visina - r)
    boja = random.choice(boje)
    dx, dy = 0, 0
    while dx == 0 and dy == 0: # ne zelimo lopte koje stoje
        dx = random.randint(-8, 8)
        dy = random.randint(-8, 8)
    lopte.append((x, y, dx, dy, r, boja))
    
def nov_frejm():
    global lopte
    for i in range(10):
        x, y, dx, dy, r, boja = lopte[i]
        (x, y) = (x + dx, y + dy)
        if x - r &lt; 0 or x + r &gt; sirina: 
            dx = -dx
        if y - r &lt; 0 or y + r &gt; visina: 
            dy = -dy
        lopte[i] = (x, y, dx, dy, r, boja)
        
    prozor.fill(pg.Color(&quot;darkgray&quot;))
    for x, y, dx, dy, r, boja in lopte:
        pg.draw.circle(prozor, boja, (x, y), r)

petljapg.frame_loop(50, nov_frejm)
"   >


</textarea>
</div>
<p>Ако упоредимо овај програм са анимацијом кретања билијарске кугле, приметићемо велику сличност. Функција <em>nov_frejm</em> се у суштини разликује само по томе што се сада све радње (померање, одбијање, цртање) обављају у петљи, пошто их треба обавити за сваку лопту. Задавање почетног стања је такође нешто сложеније, јер има више објеката и за сваки од њих памтимо више података, а уз то користимо и случајне изборе.</p>
<hr class="docutils" />
<p>У претходном примеру сви објекти (лопте) су присутни од почетка до краја програма. Има ситуација када желимо да неки објекти престану да постоје током рада програма, или да се појаве нови (или и једно и друго). У таквим случајевима можемо у функцији <em>nov_frejm</em> да користимо помоћну листу, у коју стављамо величине које описују ново стање. Типичан редослед активности је следећи:</p>
<ul class="simple">
<li><p>на почетку функције <em>nov_frejm</em> направимо нову празну листу</p></li>
<li><p>пролазимо кроз листу постојећих торки, мењамо их, и оне које нам и даље требају додајемо у нову листу</p></li>
<li><p>ако је потребно, допунимо листу новим торкама</p></li>
<li><p>на крају ажурирамо глобалну листу тако што она добија вредности из нове, помоћне листе</p></li>
</ul>
<p>Погледајмо пример.</p>
</div>
<div class="section" id="id3">
<h2>Звезде<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>У овом примеру симулирамо кретање кроз свемир. Звезде на које наилазимо, представљене су као бели кругови и одређене су положајем и полупречником.</p>
<p>За сваки фрејм израчунавамо нову, помоћну листу која описује следеће стање. Звезде померамо по неком правилу, а оне које нису потпуно изашле из прозора преписујемо у листу следећег стања. Након обраде постојећих звезда, у листу следећег стања додајемо нове звезде да се њихов број укупан број не би смањивао. На крају све звезде пребацимо у глобалну листу, да бисмо касније могли да израчунамо и следећи фрејм.</p>

<div data-childcomponent="PyGame__anim_trough_stars_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_trough_stars_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import random, pygame as pg, petljapg
(sirina, visina) = (500, 300)
prozor = petljapg.open_window(sirina, visina, &quot;Лопте&quot;)
cx, cy = sirina // 2, visina // 2

# Zvezdu odredjuje polozaj (x, y) i velicina (r).
def nova_zvezda():
    r = random.randint(1, 3)
    x = random.randint(r, sirina - r)
    y = random.randint(r, visina - r)
    return (x, y, r)

# Napravimo listu zvezda.
br_zvezda = 40
zvezde = []
for _ in range(br_zvezda):
    zvezde.append(nova_zvezda())
    
def nov_frejm():
    global zvezde
    sledece_zvezde = [] # lista koja ce da sadrzi novo stanje
    for x, y, r in zvezde:
        x += 0.01 * (x-cx) # x se udaljava od centra prozora
        y += 0.01 * (y-cy) # y se udaljava od centra prozora
        r *= 1.01          # zvezdu vidimo kao vecu, jer se &quot;priblizavamo&quot;
        # ako je bar jos deo zvezde u prozoru, sacuvacemo je
        if (x+r &gt; 0 and x-r &lt; sirina and y+r &gt; 0 and y-r &lt; visina):
            sledece_zvezde.append((x, y, r))
            
    while len(sledece_zvezde) &lt; br_zvezda:
        sledece_zvezde.append(nova_zvezda())

    zvezde = sledece_zvezde
    prozor.fill(pg.Color(&quot;black&quot;))
    for x, y, r in zvezde:
        ix, iy, ir = int(x), int(y), int(r)
        pg.draw.circle(prozor, pg.Color(&apos;white&apos;), (ix, iy), ir)

petljapg.frame_loop(60, nov_frejm)
"   >


</textarea>
</div>
<p>Овај пример је дат пре свега зато да бисмо на њему показали другачији начин баратања листом торки које описују сцену. Тиме су неки занимљиви детаљи остали у другом плану. Осврнимо се мало и на те, у овом контексту споредне детаље. Да бисмо добили ефекат као да се приближавамо, звезде испред нас треба да се размичу и повећавају. Због тога се у програму вредности <em>x</em> и <em>y</em> мењају тако да се звезде крећу у смеру од центра прозора, при томе све брже што су даље од центра.</p>
<p>За учење програмирања није нарочито важно да потпуно разумете наредбе у којима се мењају вредности <em>x</em>, <em>y</em> и <em>r</em>, али можете да испробате како се анимација мења када мало промените коефицијенте у тим наредбама (на пример, звезде могу да се крећу спорије, или да расту брже).</p>
</div>
<div class="section" id="id4">
<h2>Задаци<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Пахуље:</strong> Довршите програм тако да ради као у примеру (дугме “Прикажи пример”).</p>
<p>Свака пахуља је описана са само два броја, а то су њене координате, тако да су торке које ћемо користити у ствари парови <span class="math notranslate nohighlight">\((x, y)\)</span>.</p>
<p>Пахуље падају за по 1 пиксел, а оне које изађу из прозора, замењују се новим пахуљама. Формирање новог стања је слично као у програму “звезде”, само су правила померања пахуља једноставнија.</p>
<p>Пахуље из почетног скупа се бирају било где у прозору, а оне које се касније додају као допуна, бирају се негде на горњој ивици прозора.</p>

    </p></div></div>

<div data-childcomponent="PyGame__anim_snowflakes_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_snowflakes_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import random, pygame as pg, petljapg
(sirina, visina) = (800, 400)
prozor = petljapg.open_window(sirina, visina, &quot;Пахуљице&quot;)

pahulja_slika = pg.image.load(&quot;snowflake.png&quot;)  # slika pahuljice
visina_slike_pahulje = pahulja_slika.get_height()
broj_pahulja = 10                               # ukupan broj pahuljica

# nasumično generišemo pozicije pahuljica
pahulje = []
for i in range(broj_pahulja):
    x, y = random.randint(0, sirina), random.randint(0, visina)
    pahulje.append((x, y))

def nov_frejm():
    global pahulje

    # pahulje koje još nisu pale pomeramo na dole i prebacujemo u novu listu
    nove_pahulje = []
    for x, y in pahulje:
        if y + visina_slike_pahulje &lt; visina:
            nove_pahulje.append((x, y+1))
            
    # dopunjavamo listu novim pahuljama, koje pocinju da padaju sa vrha prozora
    while len(nove_pahulje) &lt; broj_pahulja:
        x, y = random.randint(0, sirina), random.randint(-visina_slike_pahulje, 0)
        nove_pahulje.append((x, y))
        
    pahulje = nove_pahulje
    prozor.fill(pg.Color(&quot;white&quot;))    # bojimo pozadinu u belo
    for (x, y) in pahulje:            # crtamo sve pahulje
        prozor.blit(pahulja_slika, (x, y))

petljapg.frame_loop(50, nov_frejm)
"  >
import random, pygame as pg, petljapg
(sirina, visina) = (800, 400)
prozor = petljapg.init(sirina, visina, "Пахуљице")

pahulja_slika = pg.image.load("snowflake.png")  # slika pahuljice
visina_slike_pahulje = pahulja_slika.get_height()
broj_pahulja = 10                               # ukupan broj pahuljica
</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Одлазеће лопте:</strong> Ископирајте овде први програм (лопте), па га измените тако да се лопте не одбијају него настављају да се удаљавају, а оне које оду замењују се новим лоптама. Овај програм је комбинација два дата примера (лопте и звезде), па покушајте зато да искористите делове из оба ова програма.</p>

    </p></div></div>

<div data-childcomponent="PyGame__anim_balls_passing_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_balls_passing_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import random, pygame as pg, petljapg
(sirina, visina) = (500, 300)
prozor = petljapg.open_window(sirina, visina, &quot;Лопте&quot;)

boje = (
    pg.Color(&quot;red&quot;), pg.Color(&quot;yellow&quot;), pg.Color(&quot;blue&quot;),
    pg.Color(&quot;cyan&quot;), pg.Color(&quot;green&quot;), pg.Color(&quot;purple&quot;)
)
 
# Loptu odredjuje polozaj (x, y), pomeraj (dx, dy), velicina (r) i boja.
def nova_lopta():
    r = random.randint(10, 30)
    x = random.randint(r, sirina - r)
    y = random.randint(r, visina - r)
    boja = random.choice(boje)
    dx, dy = 0, 0
    while dx == 0 and dy == 0: # ne zelimo lopte koje stoje
        dx = random.randint(-8, 8)
        dy = random.randint(-8, 8)
    return (x, y, dx, dy, r, boja)


# Napravimo listu od 10 lopti.
lopte = []
for _ in range(10):
    lopte.append(nova_lopta())
    
def nov_frejm():
    global lopte
    sledece_lopte = [] # lista koja ce da sadrzi sledeci polozaj lopti
    for x, y, dx, dy, r, boja in lopte:
        (x, y) = (x + dx, y + dy)
        if (x+r &lt; 0 or x-r &gt; sirina or y+r &lt; 0 or y-r &gt; visina):
            x, y, dx, dy, r, boja = nova_lopta()
            
        sledece_lopte.append((x, y, dx, dy, r, boja))
        
    lopte = sledece_lopte
    prozor.fill(pg.Color(&quot;darkgray&quot;))
    for x, y, dx, dy, r, boja in lopte:
        pg.draw.circle(prozor, boja, (x, y), r)

petljapg.frame_loop(50, nov_frejm)
"  >


</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Клизећи текст:</strong> Испробајте програм и пробајте да разумете како он ради. Пробајте да измените нешто у програму (текст који се приказује, боју којом се текст приказује, брзину кретања текста, или неки други детаљ).</p>
<p>Изазов: покушајте да измените програм тако да текст клизи на доле уместо на горе.</p>

    </p></div></div>

<div data-childcomponent="PyGame__anim_gliding_text_srp" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__anim_gliding_text_srp data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, petljapg

(sirina, visina) = (700, 250)
prozor = petljapg.open_window(sirina, visina, &quot;Прича&quot;)
tekst = (
    &quot;Мала деца уче да ходају&quot;,
    &quot;тако што почну да ходају.&quot;,
    &quot;У почетку често падају,&quot;,
    &quot;али устају и настављају&quot;,
    &quot;и са временом&quot;,
    &quot;постају све боља.&quot;,
    &quot;Зашто не бисмо тако учили&quot;,
    &quot;и све остале вештине?&quot;,
    &quot; &quot;
)

font = pg.font.SysFont(&quot;Arial&quot;, 40) # font kojim će biti prikazan tekst
MARGINA_GORE_DOLE = 30
VISINA_JEDNOG_REDA = 50
y_pocetka_teksta = 200
i_prvi_vidljivi_red = 0
br_vidljivih_redova = 1

def crtaj():
    prozor.fill(pg.Color(&quot;skyblue&quot;))        # bojimo pozadinu
    
    i_red = i_prvi_vidljivi_red
    y = y_pocetka_teksta
    for _ in range(br_vidljivih_redova):
        # gradimo i prikazujemo sliku jednog reda tekstа
        siva = min(230 - y, 192)
        boja = (siva, siva, siva)
        slika_teksta = font.render(tekst[i_red], True, boja)
        prozor.blit(slika_teksta, (20, y)) 
        i_red = (i_red + 1) % len(tekst)
        y += VISINA_JEDNOG_REDA

def nov_frejm():
    global i_prvi_vidljivi_red, y_pocetka_teksta, br_vidljivih_redova
    y_pocetka_teksta -= 1 # ceo tekst klizi 1 piksel gore
    
    # da li je prvi red izasao na gore
    if y_pocetka_teksta &lt; MARGINA_GORE_DOLE:
        i_prvi_vidljivi_red = (i_prvi_vidljivi_red + 1) % len(tekst)
        y_pocetka_teksta += VISINA_JEDNOG_REDA
    
    # da li ima mesta za jos jedan red
    poz_sl_reda = y_pocetka_teksta + VISINA_JEDNOG_REDA * br_vidljivih_redova
    if poz_sl_reda + VISINA_JEDNOG_REDA + MARGINA_GORE_DOLE &lt; visina:
        br_vidljivih_redova += 1
        
    crtaj()

petljapg.frame_loop(30, nov_frejm)
"   >


</textarea>
</div>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>