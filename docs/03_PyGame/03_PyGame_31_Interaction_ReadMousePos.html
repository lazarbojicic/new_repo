<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Reading mouse position &#8212; Textual Programming in Python</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reading mouse buttons" href="03_PyGame_32_Interaction_ReadMouseKey.html" />
    <link rel="prev" title="Interaction" href="03_PyGame_30_Interaction.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="../_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'TxtProgInPython';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'TxtProgInPython';
  eBookConfig.runestone_version = '3.1.1';
  eBookConfig.imagesDir = '../_images/';
  eBookConfig.staticDir = '../_static/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Textual Programming in Python</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content">
  
  <div class="section" id="reading-mouse-position">
<h1>Reading mouse position<a class="headerlink" href="#reading-mouse-position" title="Permalink to this headline">¶</a></h1>
<p>In PyGame, there is an easy way to to read the current state of the mouse. The data we are usually most interested in are mouse position and buttons being pressed. In this lesson we will use mouse position reading, and in the next mouse buttons. Aside from the position and the button presses, there is other information about the mouse that we can get, but we won’t do that here. Those interested can find more details for example <a class="reference external" href="https://www.pygame.org/docs/ref/mouse.html">here</a> .</p>
<p>We can get the mouse position by calling the function <code class="docutils literal notranslate"><span class="pre">pg.mouse.get_pos()</span></code>, which returns an ordered pair of coordinates of the point where the mouse cursor is currently located.</p>
<p>As we will see in the examples and tasks that follow, the use of this function is very simple, and we can further use the read position of the mouse in various ways.</p>
<div class="section" id="examples-and-tasks">
<h2>Examples and tasks<a class="headerlink" href="#examples-and-tasks" title="Permalink to this headline">¶</a></h2>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Example - a butterfly follows the mouse:</strong></p>
<p>In this example, we load two butterfly images and display them alternately, as we did in the animations. What is new is that where we show the butterfly is determined by the mouse position we have obtained from the <em>pg.mouse.get_pos()</em> function.</p>

    </p></div></div>
<a class="reference internal image-reference" href="../_images/butterfly1.png"><img alt="../_images/butterfly1.png" src="../_images/butterfly1.png" style="width: 50px;" /></a>
<a class="reference internal image-reference" href="../_images/butterfly2.png"><img alt="../_images/butterfly2.png" src="../_images/butterfly2.png" style="width: 50px;" /></a>

<div data-childcomponent="PyGame__interact_butterfly1" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_butterfly1 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, pygamebg, random
(width, height) = (400, 400)
canvas = pygamebg.open_window(width, height, &quot;Butterfly follows the mouse&quot;)

butterfly_images = [pg.image.load(&quot;butterfly1.png&quot;), pg.image.load(&quot;butterfly2.png&quot;)]
i_image = 0

def new_frame():
    global i_image
    i_image = 1 - i_image # the two images are displayed alternately
    canvas.fill(pg.Color(&quot;white&quot;))
    (mouse_x, mouse_y) = pg.mouse.get_pos()
    image = butterfly_images[i_image] # image to display
    # show the image centered
    (x, y) = (mouse_x - image.get_width() / 2, mouse_y - image.get_height() / 2)
    canvas.blit(image, (x, y))

pygamebg.frame_loop(5, new_frame)
"   >


</textarea>
</div>
<p>You have probably noticed that when you move the mouse faster, the butterfly lags a little. This happens because only 5 frames are displayed per second, so the delay can be up to 0.2 seconds.</p>
<p>This delay is easily eliminated by increasing the frame rate (showing more frames per second), but then the images are switched too often and the butterfly flaps its wings too fast. The solution is to increase the frame rate, while displaying each image during multiple frames.</p>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Task - move fast, flap slowly:</strong></p>
<p>Copy the previous program here, then modify it so that the butterfly does not lag behind the mouse while the flapping speed remains the same.</p>

    </p></div></div>
<p><strong>Hint:</strong> in order for the butterfly not to lag, we certainly need more frames per second, for example <em>n</em> times more. This means that the <em>new_frame</em> function is called <em>n</em> times more often than before. In order to maintain the same flapping speed, each image needs to be displayed <em>n</em> times longer, that is, during <em>n</em> consecutive frames.</p>

<div data-childcomponent="PyGame__interact_butterfly2" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_butterfly2 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, pygamebg, random
(width, height) = (400, 400)
canvas = pygamebg.open_window(width, height, &quot;Butterfly follows the mouse&quot;)

butterfly_images = [pg.image.load(&quot;butterfly1.png&quot;), pg.image.load(&quot;butterfly2.png&quot;)]
i_frame = 0
num_frames_per_image = 10

def new_frame():
    global i_frame
    i_frame += 1
    i_image = (i_frame % (len(butterfly_images) * num_frames_per_image)) // num_frames_per_image
    (mouse_x, mouse_y) = pg.mouse.get_pos()

    canvas.fill(pg.Color(&quot;white&quot;))
    image = butterfly_images[i_image] # image to display
    # show the image centered
    (x, y) = (mouse_x - image.get_width() / 2, mouse_y - image.get_height() / 2)
    canvas.blit(image, (x, y))

pygamebg.frame_loop(5 * num_frames_per_image, new_frame)
"  >


</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Task - towards mouse:</strong> Write a program in which a green ball is moving towards the mouse, like in the example (“Play task” button).</p>

    </p></div></div>
<p><strong>Hint:</strong> In this task the key point is how the coordinates <span class="math notranslate nohighlight">\((x, y)\)</span> of the center of the ball change. In a situation like the one in the picture, we want to increase <em>x</em> by <em>dx</em> and <em>y</em> by <em>dy</em>. Depending on how we want the ball to move, values <em>dx</em>, <em>dy</em> can be calculated in different ways. One easy way is to choose <span class="math notranslate nohighlight">\(dx = {1 \over 10} (xm - x), dy = {1 \over 10} (ym - y)\)</span>.</p>
<a class="reference internal image-reference" href="../_images/towards_mouse.png"><img alt="../_images/towards_mouse.png" class="align-center" src="../_images/towards_mouse.png" style="width: 300px;" /></a>

<div data-childcomponent="PyGame__interact_towards_mouse" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_towards_mouse data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, pygamebg
(width, height) = (400, 400)
canvas = pygamebg.open_window(width, height, &quot;Ball following the mouse&quot;)

(x, y) = (width // 2, height // 2) # the ball starts from the center

def new_frame():
    global x, y
    (xm, ym) = pg.mouse.get_pos()     # coordinates of the mouse position
    # the ball moves toward the mouse, for the tenth of the distance to the mouse
    x += 0.1 * (xm - x)
    y += 0.1 * (ym - y)

    # draw a green ball on a white background
    canvas.fill(pg.Color(&quot;white&quot;)) 
    pg.draw.circle(canvas, pg.Color(&quot;green&quot;), (int(x), int(y)), 10)

pygamebg.frame_loop(50, new_frame)
"  >


</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Task - towards mouse with trace:</strong> Copy the previous program and then modify it so that the ball leaves a gray trace, like in the example (“Play task” button).</p>

    </p></div></div>
<p><strong>Hint:</strong> The motion of the ball is same as in the previous example. To make a trace, we need to store a list of several (we used 20) previous positions of the ball.</p>
<p>When calculating a new state, we add the most recent position to the list, and if the list has become too long, we delete the oldest position.</p>
<p>When drawing a trace, for each circle we use color <em>(shade, shade, shade)</em>, where shade equals 255 (white) before the loop, and in the loop it decreases by a certain value, so that in the last pass through the loop it becomes zero (black), or as close to zero as possible.</p>
<p>So, for example, if the list is called <em>trace</em>, these or similar statements should appear in your program:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trace</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">...</span>

<span class="k">def</span> <span class="nf">new_frame</span><span class="p">():</span>

    <span class="o">...</span>
    <span class="n">trace</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="o">...</span>
    <span class="k">if</span> <span class="o">...</span>
        <span class="n">trace</span> <span class="o">=</span> <span class="n">trace</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>

<div data-childcomponent="PyGame__interact_towards_mouse_with_trace" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_towards_mouse_with_trace data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
           data-playtask="true"   data-modaloutput="true" data-hidehistory=true
     data-includehsrc="import pygame as pg, pygamebg
(width, height) = (400, 400)
canvas = pygamebg.open_window(width, height, &quot;Ball following the mouse&quot;)

(x, y) = (width // 2, height // 2) # the ball starts from the center
trace = []

def new_frame():
    global x, y, trace
    (xm, ym) = pg.mouse.get_pos()     # coordinates of the mouse position
    # the ball moves toward the mouse, for the tenth of the distance to the mouse
    x += 0.1 * (xm - x)
    y += 0.1 * (ym - y)
    trace.append((x, y))
    if len(trace) &gt; 20:
        trace = trace[1:]

    canvas.fill(pg.Color(&quot;white&quot;)) # white background
    n = len(trace)
    shade = 255 # shade changes from white to black
    for x, y in trace:
        color = (shade, shade, shade)
        pg.draw.circle(canvas, color, (int(x), int(y)), 10)
        shade -= 12

pygamebg.frame_loop(50, new_frame)
"  >


</textarea>
</div>
<hr class="docutils" />
<p>Finally, you can try out the following two programs and play around with them.</p>
<p>In order to make programs like these, in addition to the programming techniques shown here, one needs some knowledge of physics (elastic force, Newton’s second law) and mathematics (Pythagorean theorem). Take a look at the programs without having to fully understand them. If you like, try modifying some constants a bit, so you can see how this affects the program’s behavior.</p>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Example: Yо-yо</strong></p>

    </p></div></div>

<div data-childcomponent="PyGame__interact_yoyo" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_yoyo data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, pygamebg, math
(width, height) = (250, 250)
canvas = pygamebg.open_window(width, height, &quot;yoyo&quot;)

def distance(A, B):
    (xa, ya) = A
    (xb, yb) = B
    return math.sqrt((xa - xb)**2 + (ya - yb)**2)

(x, y) = (width // 2, height // 2) # ball position
(vx, vy) = (0, 0)                   # ball speed
rubber_band_length = 80

def new_frame():
    global x, y, vx, vy
    xm, ym = pg.mouse.get_pos()       # mouse position coordinates
    r = distance((x, y), (xm, ym))    # ball to mouse distance
    ax, ay = 0, 0                     # ball acceleration vector
    if r &gt; rubber_band_length:
        # elastic force produces acceleration toward the mouse
        k = 0.0001*(r-rubber_band_length) 
        ax, ay = k * (xm - x), k * (ym - y)
    ay += 0.3                         # acceleration from ball weight

    vx, vy = vx + ax, vy + ay         # new speed
    x, y   = x + vx, y + vy           # new position

    # draw a green ball with a black rubber band on a white background
    canvas.fill(pg.Color(&quot;white&quot;)) 
    ix, iy = int(x), int(y)
    pg.draw.line(canvas, pg.Color(&quot;black&quot;), (ix, iy), (xm, ym), 2)
    pg.draw.circle(canvas, pg.Color(&quot;green&quot;), (ix, iy), 10)

pygamebg.frame_loop(40, new_frame)
"   >


</textarea>
</div>

    <div class="course-box course-box-special">
        <div class="course-content">
            <h4 class="carbox-title">
                <img class="corner-image float-right" src="../_static/img/question-mark.png" />
            </h4>
            <p>
<p><strong>Example: Eyes</strong></p>

    </p></div></div>
<p>This program also requires a little more knowledge of mathematics, so we will not go into detail. If you are interested in how this program works and you аrе good at math, try to understand the details with some help.</p>

<div data-childcomponent="PyGame__interact_eyes" class="course-box course-box-problem course-content">

<textarea data-component="activecode" id=PyGame__interact_eyes data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
              data-modaloutput="true" data-hidehistory=true
    data-includesrc="import pygame as pg, pygamebg, math
(width, height) = (400, 400)
canvas = pygamebg.open_window(width, height, &quot;Eyes&quot;)

# Function draws an eye whose center is at (cx, cy), radius is r, 
# and its pupil is positioned to look at the position of the mouse (mx, my)
def draw_eye(cx, cy, r, mx, my):
    pg.draw.circle(canvas, pg.Color(&quot;black&quot;), (cx, cy), 2*r, 1)        # draw an eye
    D = math.sqrt((mx-cx)**2 + (my-cy)**2)          # mouse to eye center distance 
    # k is the part of the vector CM for which we move from the center of the eye
    k = r/D if D &gt; r else 1 
    pupil_center = (cx + round(k*(mx-cx)), cy + round(k*(my-cy))) 
    pg.draw.circle(canvas, pg.Color(&quot;black&quot;), pupil_center, r)     # draw pupil

def new_frame():
    global mouse_x, mouse_y
    (mouse_x, mouse_y) = pg.mouse.get_pos()     # mouse position coordinates

    canvas.fill(pg.Color(&quot;white&quot;))   # paint background to white
    # draw both eyes using the auxiliary function
    draw_eye(left_eye_xc, left_eye_yc, pupil_r, mouse_x, mouse_y)
    draw_eye(right_eye_xc, right_eye_yc, pupil_r, mouse_x, mouse_y)
    
(canvas_xc, canvas_yc) = (width // 2, height // 2) # center of the window
eye_r = width // 8                                 # eye radius
pupil_r = eye_r // 2                               # pupil radius
left_eye_xc = canvas_xc - 3 * pupil_r              # x coordinate of center of left eye
right_eye_xc = canvas_xc + 3 * pupil_r             # x coordinate of center of right eye
left_eye_yc = right_eye_yc = canvas_yc             # y coordinate of centers of both eyes
(mouse_x, mouse_y) = pg.mouse.get_pos()
    
pygamebg.frame_loop(50, new_frame)

"   >


</textarea>
</div>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
        <li id="relations-prev" title='Previous chapter - Interaction' data-toggle="tooltip"><a href="03_PyGame_30_Interaction.html">Previous chapter</a></li>
    
        <li id="relations-next" title='Next chapter - Reading mouse buttons' data-toggle="tooltip"><a href="03_PyGame_32_Interaction_ReadMouseKey.html">Next chapter</a></li>
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
        <!-- <li id="relations-prev" title='Претходно поглавље - Interaction' data-toggle="tooltip"><a href="03_PyGame_30_Interaction.html">Претходно поглавље</a></li> -->
    <!--  -->
    <!-- -->
        <!-- <li id="relations-next" title='Следеће поглавље - Reading mouse buttons' data-toggle="tooltip"><a href="03_PyGame_32_Interaction_ReadMouseKey.html">Следеће поглавље</a></li> -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>